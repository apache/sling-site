<!DOCTYPE html><html lang="en">
<head>
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
        <title>Apache Sling :: Selectors</title>
        <link rel="icon" href="/res/favicon.ico"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css"/>
        <link rel="stylesheet" href="/res/css/site.css"/>
        <script src='https://www.apachecon.com/event-images/snippet.js'></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js'></script><script>
            hljs.initHighlightingOnLoad();
        </script>
        
    </head>    <body>
        <div class="section">
            <div class="level is-marginless">
<div class="logo">
                    <a href="https://sling.apache.org">
                        <img border="0" alt="Apache Sling" src="/res/logos/sling.svg"/>
                    </a>
                </div><div class="header">
                    <a href="https://www.apache.org">
                        <img border="0" alt="Apache" src="/res/logos/apache.png"/>
                    </a>
                </div>                
            </div><div class="columns is-gapless">
                <div class="column is-narrow sidemenu">
<div class="container">
                        <nav class="menu">
                            <ul class="menu-list box is-shadowless is-marginless">
                                <li>
                                    <p class="menu-label">
                                        <strong>Documentation</strong>
                                    </p><ul>
                                        <li><a href="/documentation.html">Overview</a></li><li><a href="/documentation/getting-started.html">Getting Started</a></li><li><a href="/documentation/the-sling-engine.html">The Sling Engine</a></li><li><a href="/documentation/development.html">Development</a></li><li><a href="/documentation/bundles.html">Bundles</a></li><li><a href="/documentation/tutorials-how-tos.html">Tutorials &amp; How-Tos</a></li><li><a href="/components/">Maven Plugins</a></li><li><a href="/documentation/configuration.html">Configuration</a></li>
                                    </ul>
                                </li><li>
                                    <p class="menu-label">
                                        <strong>API Docs</strong>
                                    </p><ul>
                                        <li><a href="/apidocs/sling11/index.html">Sling 11</a></li><li><a href="/apidocs/sling10/index.html">Sling 10</a></li><li><a href="/apidocs/sling9/index.html">Sling 9</a></li><li><a href="/documentation/apidocs.html">All versions</a></li>
                                    </ul>
                                </li><li>
                                    <p class="menu-label">
                                        <strong>Support</strong>
                                    </p><ul>
                                        <li><a href="https://s.apache.org/sling.wiki">Wiki</a></li><li><a href="https://s.apache.org/sling.faq">FAQ</a></li><li><a href="/sitemap.html">Site Map</a></li>
                                    </ul>
                                </li><li>
                                    <p class="menu-label">
                                        <strong>Project Info</strong>
                                    </p><ul>
                                        <li><a href="/downloads.cgi">Downloads</a></li><li><a href="https://www.apache.org/licenses/">License</a></li><li><a href="/news.html">News</a></li><li><a href="/releases.html">Releases</a></li><li><a href="https://issues.apache.org/jira/browse/SLING">Issue Tracker</a></li><li><a href="/links.html">Links</a></li><li><a href="/contributing.html">Contributing</a></li><li><a href="/project-information.html">Project Information</a></li><li><a href="/project-information/security.html">Security</a></li>
                                    </ul>
                                </li><li>
                                    <p class="menu-label">
                                        <strong>Source</strong>
                                    </p><ul>
                                        <li><a href="https://github.com/apache/?utf8=%E2%9C%93&q=sling">GitHub</a></li><li><a href="https://gitbox.apache.org/repos/asf?s=sling">Git at Apache</a></li>
                                    </ul>
                                </li><li>
                                    <p class="menu-label">
                                        <strong>Apache Software<br>Foundation</strong>
                                    </p><ul>
                                        <li><a href="https://www.apache.org/foundation/thanks.html">Thanks!</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html">Become a Sponsor</a></li><li><a href="https://www.apache.org/foundation/buy_stuff.html">Buy Stuff</a></li>
                                    </ul>
                                </li><li>
                                    <a class="acevent" data-format="square" data-event="random"></a>
                                </li><li>
                                    <a href="https://apache.org/foundation/contributing.html" class="column">
                                        <img border="0" alt="Support the Apache Software Foundation!" src="/res/images/SupportApache-small.png" width="125"/>
                                    </a>
                                </li>
                            </ul>
                        </nav>
                    </div>                    
                </div><div class="column main">
                    <div class="box is-shadowless is-marginless">
                        <div class="level">
                            <div class="pagenav">
<div class="breadcrumb">
                                    <ul>
                                        <li>
                                            <a href="/">
                                                Home
                                            </a>
                                        </li><li>
                                            <a href="/documentation.html">
                                                Documentation
                                            </a>
                                        </li><li>
                                            <a href="/documentation/bundles.html">
                                                Bundles
                                            </a>
                                        </li><li>
                                            <a href="/documentation/bundles/sling-query.html">
                                                Sling Query
                                            </a>
                                        </li>
                                    </ul>
                                </div>                                
                            </div><div class="tags">
                                <span class="tag">
                                    <a href="/tags/slingquery.html">
                                        slingquery
                                    </a>
                                </span>
                            </div>
                        </div><h1 class="title">
                            Selectors
                        </h1><nav class="menu">
                            <ul class="menu-list box is-shadowless is-paddingless">
                                <li id="generatedToC">
                                    <p class="menu-label">
                                        <strong>Table of Contents</strong>
                                    </p>
                                </li>
                            </ul>
                        </nav><script src='/res/jquery-3.2.1.min.js' type='text/javascript'></script><script src='/res/tocjs-1-1-2.js' type='text/javascript'></script><script type='text/javascript'>$(document).ready(function() { $('#generatedToC').toc({'selector':'h1[class!=title],h2,h3','ulClass':'menu-list'}); } );</script><div class="content is-marginless">
<div class="row"><div><section><p>Selector string are something between filters and content descriptors. Selector can filter resources by their <a href="#resource-type">type</a>, <a href="#resource-name">name</a>, <a href="#attributes">attributes</a> and <a href="#modifiers">additional modifiers</a>. They can be also <a href="#joining-selectors">chained together</a> to describe more sophisticated hierarchy structure or <a href="#combining-selectors">combined with comma</a>.</p>
<h2><a href="#syntax" id="syntax">Syntax</a></h2>
<p>Selector consists of four parts:</p>
<h3><a href="#resource-type" id="resource-type">Resource type</a></h3>
<p>Resource type, which could be a <code>sling:resourceType</code>, like <code>foundation/components/richtext</code> or the underlying JCR node type, like <code>cq:Page</code> or <code>nt:unstructured</code>. In the latter case, SlingQuery takes types hierarchy into consideration (eg. <code>nt:base</code> matches everything). JCR mixin types could be used as well.</p>
<h3><a href="#resource-name" id="resource-name">Resource name</a></h3>
<p>Resource name can be defined with a hash <code>#</code> character, after the resource type (or instead of it):</p>
<pre><code>$(resource).children(&quot;cq:Page#some-name&quot;)
</code></pre>
<p>If the desired resource name contains colon (<code>:</code>) character, the whole string should be escaped with apostrophes:</p>
<pre><code>$(resource).children(&quot;#'jcr:content'[jcr:title=My title]&quot;)
</code></pre>
<h3><a href="#attributes" id="attributes">Attributes</a></h3>
<p>After the resource type and resource name one could pass a number of filtering attributes. Each attribute has following form: <code>[property=value]</code>. Passing multiple attributes will match only those resources that have all of them set. Property name could contain <code>/</code>. In this case property will be taken from the child resource, eg.:</p>
<pre><code>$(resource).children(&quot;cq:Page[jcr:content/jcr:title=My title]&quot;)
</code></pre>
<p>will return only children of type <code>cq:Page</code> that have sub-resource called <code>jcr:content</code> with property <code>jcr:title</code> set to <code>My title</code>. Besides the <code>=</code> you may use other operators like <code>*=</code>, which means <em>contains</em>:</p>
<pre><code>$(resource).children(&quot;cq:Page[jcr:content/jcr:title*=title]&quot;)
</code></pre>
<p>See the <a href="operators.html">fulll list of operators</a>.</p>
<h3><a href="#modifiers" id="modifiers">Modifiers</a></h3>
<p>At the end of the selector one could define any number of modifiers that will be used to filter out the resources matched by the resource type and attributes. Each modifier starts with colon, some of them accepts a parameter set in parentheses. Example:</p>
<pre><code>$(resource).children(&quot;cq:Page:first&quot;);
$(resource).children(&quot;cq:Page:eq(0)&quot;); // the same
$(resource).children(&quot;:first&quot;); // modifier can be used alone
</code></pre>
<p>It is important that modifier filters out sub-collection created for each node, before it is merged. Eg.:, there is a difference between:</p>
<pre><code>$(resource1, resource2).children().first();
</code></pre>
<p>and</p>
<pre><code>$(resource1, resource2).children(&quot;:first&quot;);
</code></pre>
<p>In the first case we create a new collection consisting of children of the <code>resource1</code> and <code>resource2</code> and then we get the first element of the merged collection. On the other hand, the second example takes <em>first child</em> of each resource and creates a collection from them.</p>
<p>See the <a href="modifiers.html">full list of modifiers</a>.</p>
<h2><a href="#joining-selectors" id="joining-selectors">Joining selectors</a></h2>
<p>Selectors can be joined together using <a href="hierarchy-operators.html">hierarchy operators</a>. This feature enables the developer to create sophisticated filters describing desired resource structure, eg.:</p>
<pre><code>$(resource).children(&quot;cq:Page foundation/components/parsys &gt; foundation/components/richtext&quot;)
</code></pre>
<p>will all <code>cq:Page</code>s containing paragraph systems with a richtext inside.</p>
<h2><a href="#combining-selectors" id="combining-selectors">Combining selectors</a></h2>
<p>You may specify any number of selectors to combine into a single result. Use comma to join a few conditions. Comma is treated as <code>OR</code> statement:</p>
<pre><code>$(resource).children(&quot;#en, #de, #fr&quot;); // return all direct children named `en` or `de` or `fr`.
</code></pre>
</section></div></div>                            
                        </div>
                    </div>
                </div>
            </div><footer class="footer">
                <div class="content has-text-centered is-small">
<div class="editpagelink">
                        This page can be edited on GitHub at <a href="https://github.com/apache/sling-site/edit/master/src/main/jbake/content/documentation/bundles/sling-query/selectors.md">
                            content/documentation/bundles/sling-query/selectors.md
                        </a>
                    </div>                    <div class="revisionInfo">
                        Last modified by <span class="author">Bertrand Delacretaz</span> on <span class="comment">2017-09-29</span>
                    </div><p>
                        Apache Sling, Sling, Apache, the Apache feather logo, and the Apache Sling project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners.
                    </p><p>
                        Copyright Â© 2007-2021 The Apache Software Foundation.
                    </p>
                </div>
            </footer>
        </div>
    </body>
</html>