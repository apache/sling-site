<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_21) on Mon Mar 28 16:57:18 CEST 2011 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
AccessControlUtil (Apache Sling (Builder) 6 API)
</TITLE>

<META NAME="keywords" CONTENT="org.apache.sling.jcr.base.util.AccessControlUtil class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="AccessControlUtil (Apache Sling (Builder) 6 API)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AccessControlUtil.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../../org/apache/sling/jcr/base/util/RepositoryAccessor.html" title="class in org.apache.sling.jcr.base.util"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?org/apache/sling/jcr/base/util/AccessControlUtil.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AccessControlUtil.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.sling.jcr.base.util</FONT>
<BR>
Class AccessControlUtil</H2>
<PRE>
<A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../../../resources/inherit.gif" ALT="extended by "><B>org.apache.sling.jcr.base.util.AccessControlUtil</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>AccessControlUtil</B><DT>extends <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
A simple utility class providing utilities with respect to
 access control over repositories.
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#AccessControlUtil()">AccessControlUtil</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#addEntry(javax.jcr.security.AccessControlList, java.security.Principal, javax.jcr.security.Privilege[], boolean)">addEntry</A></B>(javax.jcr.security.AccessControlList&nbsp;acl,
         <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Principal.html" title="class or interface in java.security">Principal</A>&nbsp;principal,
         javax.jcr.security.Privilege[]&nbsp;privileges,
         boolean&nbsp;isAllow)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Same as <A HREF="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#addEntry(javax.jcr.security.AccessControlList, java.security.Principal, javax.jcr.security.Privilege[], boolean, java.util.Map)"><CODE>addEntry(AccessControlList, Principal, Privilege[], boolean, Map)</CODE></A> using
 some implementation specific restrictions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#addEntry(javax.jcr.security.AccessControlList, java.security.Principal, javax.jcr.security.Privilege[], boolean, java.util.Map)">addEntry</A></B>(javax.jcr.security.AccessControlList&nbsp;acl,
         <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Principal.html" title="class or interface in java.security">Principal</A>&nbsp;principal,
         javax.jcr.security.Privilege[]&nbsp;privileges,
         boolean&nbsp;isAllow,
         <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Map.html" title="class or interface in java.util">Map</A>&nbsp;restrictions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds an access control entry to the acl consisting of the specified
 <code>principal</code>, the specified <code>privileges</code>, the
 <code>isAllow</code> flag and an optional map containing additional
 restrictions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;javax.jcr.security.AccessControlManager</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#getAccessControlManager(javax.jcr.Session)">getAccessControlManager</A></B>(javax.jcr.Session&nbsp;session)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the <code>AccessControlManager</code> for the given
 <code>session</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#getPath(javax.jcr.security.AccessControlList)">getPath</A></B>(javax.jcr.security.AccessControlList&nbsp;acl)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the path of the node <code>AccessControlList</code> acl
 has been created for.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.jackrabbit.api.security.principal.PrincipalManager</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#getPrincipalManager(javax.jcr.Session)">getPrincipalManager</A></B>(javax.jcr.Session&nbsp;session)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the <code>PrincipalManager</code> for the given
 <code>session</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.apache.jackrabbit.api.security.user.UserManager</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#getUserManager(javax.jcr.Session)">getUserManager</A></B>(javax.jcr.Session&nbsp;session)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the <code>UserManager</code> for the given
 <code>session</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#isAllow(javax.jcr.security.AccessControlEntry)">isAllow</A></B>(javax.jcr.security.AccessControlEntry&nbsp;ace)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the AccessControlEntry represents 'allowed' rights or false
 it it represents 'denied' rights.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#isEmpty(javax.jcr.security.AccessControlList)">isEmpty</A></B>(javax.jcr.security.AccessControlList&nbsp;acl)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <code>true</code> if <code>AccessControlList</code> acl
 does not yet define any entries.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#replaceAccessControlEntry(javax.jcr.Session, java.lang.String, java.security.Principal, java.lang.String[], java.lang.String[], java.lang.String[])">replaceAccessControlEntry</A></B>(javax.jcr.Session&nbsp;session,
                          <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;resourcePath,
                          <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Principal.html" title="class or interface in java.security">Principal</A>&nbsp;principal,
                          <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>[]&nbsp;grantedPrivilegeNames,
                          <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>[]&nbsp;deniedPrivilegeNames,
                          <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>[]&nbsp;removedPrivilegeNames)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>use @link <A HREF="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#replaceAccessControlEntry(javax.jcr.Session, java.lang.String, java.security.Principal, java.lang.String[], java.lang.String[], java.lang.String[], java.lang.String)"><CODE>replaceAccessControlEntry(Session, String, Principal, String[], String[], String[], String)</CODE></A> instead.</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#replaceAccessControlEntry(javax.jcr.Session, java.lang.String, java.security.Principal, java.lang.String[], java.lang.String[], java.lang.String[], java.lang.String)">replaceAccessControlEntry</A></B>(javax.jcr.Session&nbsp;session,
                          <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;resourcePath,
                          <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Principal.html" title="class or interface in java.security">Principal</A>&nbsp;principal,
                          <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>[]&nbsp;grantedPrivilegeNames,
                          <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>[]&nbsp;deniedPrivilegeNames,
                          <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>[]&nbsp;removedPrivilegeNames,
                          <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;order)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Replaces existing access control entries in the ACL for the specified
 <code>principal</code> and <code>resourcePath</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#size(javax.jcr.security.AccessControlList)">size</A></B>(javax.jcr.security.AccessControlList&nbsp;acl)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the number of acl entries or 0 if the acl is empty.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="AccessControlUtil()"><!-- --></A><H3>
AccessControlUtil</H3>
<PRE>
public <B>AccessControlUtil</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getAccessControlManager(javax.jcr.Session)"><!-- --></A><H3>
getAccessControlManager</H3>
<PRE>
public static javax.jcr.security.AccessControlManager <B>getAccessControlManager</B>(javax.jcr.Session&nbsp;session)
                                                                       throws javax.jcr.UnsupportedRepositoryOperationException,
                                                                              javax.jcr.RepositoryException</PRE>
<DL>
<DD>Returns the <code>AccessControlManager</code> for the given
 <code>session</code>. If the session does not have a
 <code>getAccessControlManager</code> method, a
 <code>UnsupportedRepositoryOperationException</code> is thrown. Otherwise
 the <code>AccessControlManager</code> is returned or if the call fails,
 the respective exception is thrown.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>session</CODE> - The JCR Session whose <code>AccessControlManager</code> is
            to be returned. If the session is a pooled session, the
            session underlying the pooled session is actually used.
<DT><B>Returns:</B><DD>The <code>AccessControlManager</code> of the session
<DT><B>Throws:</B>
<DD><CODE>javax.jcr.UnsupportedRepositoryOperationException</CODE> - If the session has no
             <code>getAccessControlManager</code> method or the exception
             thrown by the method.
<DD><CODE>javax.jcr.RepositoryException</CODE> - Forwarded from the
             <code>getAccessControlManager</code> method call.</DL>
</DD>
</DL>
<HR>

<A NAME="getUserManager(javax.jcr.Session)"><!-- --></A><H3>
getUserManager</H3>
<PRE>
public static org.apache.jackrabbit.api.security.user.UserManager <B>getUserManager</B>(javax.jcr.Session&nbsp;session)
                                                                          throws javax.jcr.AccessDeniedException,
                                                                                 javax.jcr.UnsupportedRepositoryOperationException,
                                                                                 javax.jcr.RepositoryException</PRE>
<DL>
<DD>Returns the <code>UserManager</code> for the given
 <code>session</code>. If the session does not have a
 <code>getUserManager</code> method, a
 <code>UnsupportedRepositoryOperationException</code> is thrown. Otherwise
 the <code>UserManager</code> is returned or if the call fails,
 the respective exception is thrown.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>session</CODE> - The JCR Session whose <code>UserManager</code> is
            to be returned. If the session is not a <code>JackrabbitSession</code>
            uses reflection to retrive the manager from the repository.
<DT><B>Returns:</B><DD>The <code>UserManager</code> of the session.
<DT><B>Throws:</B>
<DD><CODE>javax.jcr.AccessDeniedException</CODE> - If this session is not allowed
                          to access user data.
<DD><CODE>javax.jcr.UnsupportedRepositoryOperationException</CODE> - If the session has no
            <code>getUserManager</code> method or the exception
            thrown by the method.
<DD><CODE>javax.jcr.RepositoryException</CODE> - Forwarded from the
             <code>getUserManager</code> method call.</DL>
</DD>
</DL>
<HR>

<A NAME="getPrincipalManager(javax.jcr.Session)"><!-- --></A><H3>
getPrincipalManager</H3>
<PRE>
public static org.apache.jackrabbit.api.security.principal.PrincipalManager <B>getPrincipalManager</B>(javax.jcr.Session&nbsp;session)
                                                                                         throws javax.jcr.AccessDeniedException,
                                                                                                javax.jcr.UnsupportedRepositoryOperationException,
                                                                                                javax.jcr.RepositoryException</PRE>
<DL>
<DD>Returns the <code>PrincipalManager</code> for the given
 <code>session</code>. If the session does not have a
 <code>PrincipalManager</code> method, a
 <code>UnsupportedRepositoryOperationException</code> is thrown. Otherwise
 the <code>PrincipalManager</code> is returned or if the call fails,
 the respective exception is thrown.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>session</CODE> - The JCR Session whose <code>PrincipalManager</code> is
            to be returned. If the session is not a <code>JackrabbitSession</code>
            uses reflection to retrive the manager from the repository.
<DT><B>Returns:</B><DD>The <code>PrincipalManager</code> of the session.
<DT><B>Throws:</B>
<DD><CODE>javax.jcr.AccessDeniedException</CODE>
<DD><CODE>javax.jcr.UnsupportedRepositoryOperationException</CODE> - If the session has no
                                <code>PrincipalManager</code> method or the exception
                thrown by the method.
<DD><CODE>javax.jcr.RepositoryException</CODE> - Forwarded from the
             <code>PrincipalManager</code> method call.</DL>
</DD>
</DL>
<HR>

<A NAME="getPath(javax.jcr.security.AccessControlList)"><!-- --></A><H3>
getPath</H3>
<PRE>
public static <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A> <B>getPath</B>(javax.jcr.security.AccessControlList&nbsp;acl)
                      throws javax.jcr.RepositoryException</PRE>
<DL>
<DD>Returns the path of the node <code>AccessControlList</code> acl
 has been created for.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>javax.jcr.RepositoryException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isEmpty(javax.jcr.security.AccessControlList)"><!-- --></A><H3>
isEmpty</H3>
<PRE>
public static boolean <B>isEmpty</B>(javax.jcr.security.AccessControlList&nbsp;acl)
                       throws javax.jcr.RepositoryException</PRE>
<DL>
<DD>Returns <code>true</code> if <code>AccessControlList</code> acl
 does not yet define any entries.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>javax.jcr.RepositoryException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="size(javax.jcr.security.AccessControlList)"><!-- --></A><H3>
size</H3>
<PRE>
public static int <B>size</B>(javax.jcr.security.AccessControlList&nbsp;acl)
                throws javax.jcr.RepositoryException</PRE>
<DL>
<DD>Returns the number of acl entries or 0 if the acl is empty.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>javax.jcr.RepositoryException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="addEntry(javax.jcr.security.AccessControlList, java.security.Principal, javax.jcr.security.Privilege[], boolean)"><!-- --></A><H3>
addEntry</H3>
<PRE>
public static boolean <B>addEntry</B>(javax.jcr.security.AccessControlList&nbsp;acl,
                               <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Principal.html" title="class or interface in java.security">Principal</A>&nbsp;principal,
                               javax.jcr.security.Privilege[]&nbsp;privileges,
                               boolean&nbsp;isAllow)
                        throws javax.jcr.security.AccessControlException,
                               javax.jcr.RepositoryException</PRE>
<DL>
<DD>Same as <A HREF="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#addEntry(javax.jcr.security.AccessControlList, java.security.Principal, javax.jcr.security.Privilege[], boolean, java.util.Map)"><CODE>addEntry(AccessControlList, Principal, Privilege[], boolean, Map)</CODE></A> using
 some implementation specific restrictions.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>javax.jcr.security.AccessControlException</CODE>
<DD><CODE>javax.jcr.RepositoryException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="addEntry(javax.jcr.security.AccessControlList, java.security.Principal, javax.jcr.security.Privilege[], boolean, java.util.Map)"><!-- --></A><H3>
addEntry</H3>
<PRE>
public static boolean <B>addEntry</B>(javax.jcr.security.AccessControlList&nbsp;acl,
                               <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Principal.html" title="class or interface in java.security">Principal</A>&nbsp;principal,
                               javax.jcr.security.Privilege[]&nbsp;privileges,
                               boolean&nbsp;isAllow,
                               <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Map.html" title="class or interface in java.util">Map</A>&nbsp;restrictions)
                        throws javax.jcr.UnsupportedRepositoryOperationException,
                               javax.jcr.RepositoryException</PRE>
<DL>
<DD>Adds an access control entry to the acl consisting of the specified
 <code>principal</code>, the specified <code>privileges</code>, the
 <code>isAllow</code> flag and an optional map containing additional
 restrictions.
 <p/>
 This method returns <code>true</code> if this policy was modified,
 <code>false</code> otherwise.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>javax.jcr.UnsupportedRepositoryOperationException</CODE>
<DD><CODE>javax.jcr.RepositoryException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="replaceAccessControlEntry(javax.jcr.Session, java.lang.String, java.security.Principal, java.lang.String[], java.lang.String[], java.lang.String[])"><!-- --></A><H3>
replaceAccessControlEntry</H3>
<PRE>
public static void <B>replaceAccessControlEntry</B>(javax.jcr.Session&nbsp;session,
                                             <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;resourcePath,
                                             <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Principal.html" title="class or interface in java.security">Principal</A>&nbsp;principal,
                                             <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>[]&nbsp;grantedPrivilegeNames,
                                             <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>[]&nbsp;deniedPrivilegeNames,
                                             <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>[]&nbsp;removedPrivilegeNames)
                                      throws javax.jcr.RepositoryException</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>use @link <A HREF="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#replaceAccessControlEntry(javax.jcr.Session, java.lang.String, java.security.Principal, java.lang.String[], java.lang.String[], java.lang.String[], java.lang.String)"><CODE>replaceAccessControlEntry(Session, String, Principal, String[], String[], String[], String)</CODE></A> instead.</I>
<P>
<DD>Replaces existing access control entries in the ACL for the specified
 <code>principal</code> and <code>resourcePath</code>. Any existing granted
 or denied privileges which do not conflict with the specified privileges
 are maintained. Where conflicts exist, existing privileges are dropped.
 The end result will be at most two ACEs for the principal: one for grants
 and one for denies. Aggregate privileges are disaggregated before checking
 for conflicts.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>session</CODE> - <DD><CODE>resourcePath</CODE> - <DD><CODE>principal</CODE> - <DD><CODE>grantedPrivilegeNames</CODE> - <DD><CODE>deniedPrivilegeNames</CODE> - <DD><CODE>removedPrivilegeNames</CODE> - privileges which, if they exist, should be
 removed for this principal and resource
<DT><B>Throws:</B>
<DD><CODE>javax.jcr.RepositoryException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="replaceAccessControlEntry(javax.jcr.Session, java.lang.String, java.security.Principal, java.lang.String[], java.lang.String[], java.lang.String[], java.lang.String)"><!-- --></A><H3>
replaceAccessControlEntry</H3>
<PRE>
public static void <B>replaceAccessControlEntry</B>(javax.jcr.Session&nbsp;session,
                                             <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;resourcePath,
                                             <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Principal.html" title="class or interface in java.security">Principal</A>&nbsp;principal,
                                             <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>[]&nbsp;grantedPrivilegeNames,
                                             <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>[]&nbsp;deniedPrivilegeNames,
                                             <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>[]&nbsp;removedPrivilegeNames,
                                             <A HREF="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html" title="class or interface in java.lang">String</A>&nbsp;order)
                                      throws javax.jcr.RepositoryException</PRE>
<DL>
<DD>Replaces existing access control entries in the ACL for the specified
 <code>principal</code> and <code>resourcePath</code>. Any existing granted
 or denied privileges which do not conflict with the specified privileges
 are maintained. Where conflicts exist, existing privileges are dropped.
 The end result will be at most two ACEs for the principal: one for grants
 and one for denies. Aggregate privileges are disaggregated before checking
 for conflicts.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>session</CODE> - <DD><CODE>resourcePath</CODE> - <DD><CODE>principal</CODE> - <DD><CODE>grantedPrivilegeNames</CODE> - <DD><CODE>deniedPrivilegeNames</CODE> - <DD><CODE>removedPrivilegeNames</CODE> - privileges which, if they exist, should be
 removed for this principal and resource<DD><CODE>order</CODE> - where the access control entry should go in the list.  
         Value should be one of these:
         <table>
          <tr><td>null</td><td>If the ACE for the principal doesn't exist add at the end, otherwise leave the ACE at it's current position.</td></tr>
                        <tr><td>first</td><td>Place the target ACE as the first amongst its siblings</td></tr>
                        <tr><td>last</td><td>Place the target ACE as the last amongst its siblings</td></tr>
                        <tr><td>before xyz</td><td>Place the target ACE immediately before the sibling whose name is xyz</td></tr>
                        <tr><td>after xyz</td><td>Place the target ACE immediately after the sibling whose name is xyz</td></tr>
                        <tr><td>numeric</td><td>Place the target ACE at the specified numeric index</td></tr>
         </table>
<DT><B>Throws:</B>
<DD><CODE>javax.jcr.RepositoryException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isAllow(javax.jcr.security.AccessControlEntry)"><!-- --></A><H3>
isAllow</H3>
<PRE>
public static boolean <B>isAllow</B>(javax.jcr.security.AccessControlEntry&nbsp;ace)
                       throws javax.jcr.RepositoryException</PRE>
<DL>
<DD>Returns true if the AccessControlEntry represents 'allowed' rights or false
 it it represents 'denied' rights.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>javax.jcr.RepositoryException</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AccessControlUtil.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../../org/apache/sling/jcr/base/util/RepositoryAccessor.html" title="class in org.apache.sling.jcr.base.util"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?org/apache/sling/jcr/base/util/AccessControlUtil.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AccessControlUtil.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2007-2011 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All Rights Reserved.
</BODY>
</HTML>