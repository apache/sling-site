<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) -->
<title>ModifyPrincipalAceServlet (Apache Sling 13 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.sling.jcr.jackrabbit.accessmanager.post, class: ModifyPrincipalAceServlet">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ModifyPrincipalAceServlet.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.sling.jcr.jackrabbit.accessmanager.post</a></div>
<h1 title="Class ModifyPrincipalAceServlet" class="title">Class ModifyPrincipalAceServlet</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">javax.servlet.GenericServlet
<div class="inheritance"><a href="../../../../api/servlets/SlingSafeMethodsServlet.html" title="class in org.apache.sling.api.servlets">org.apache.sling.api.servlets.SlingSafeMethodsServlet</a>
<div class="inheritance"><a href="../../../../api/servlets/SlingAllMethodsServlet.html" title="class in org.apache.sling.api.servlets">org.apache.sling.api.servlets.SlingAllMethodsServlet</a>
<div class="inheritance"><a href="AbstractAccessServlet.html" title="class in org.apache.sling.jcr.jackrabbit.accessmanager.post">org.apache.sling.jcr.jackrabbit.accessmanager.post.AbstractAccessServlet</a>
<div class="inheritance"><a href="AbstractAccessPostServlet.html" title="class in org.apache.sling.jcr.jackrabbit.accessmanager.post">org.apache.sling.jcr.jackrabbit.accessmanager.post.AbstractAccessPostServlet</a>
<div class="inheritance"><a href="ModifyAceServlet.html" title="class in org.apache.sling.jcr.jackrabbit.accessmanager.post">org.apache.sling.jcr.jackrabbit.accessmanager.post.ModifyAceServlet</a>
<div class="inheritance">org.apache.sling.jcr.jackrabbit.accessmanager.post.ModifyPrincipalAceServlet</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></code>, <code>javax.servlet.Servlet</code>, <code>javax.servlet.ServletConfig</code>, <code><a href="../ModifyAce.html" title="interface in org.apache.sling.jcr.jackrabbit.accessmanager">ModifyAce</a></code>, <code><a href="../ModifyPrincipalAce.html" title="interface in org.apache.sling.jcr.jackrabbit.accessmanager">ModifyPrincipalAce</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">ModifyPrincipalAceServlet</span>
<span class="extends-implements">extends <a href="ModifyAceServlet.html" title="class in org.apache.sling.jcr.jackrabbit.accessmanager.post">ModifyAceServlet</a>
implements <a href="../ModifyPrincipalAce.html" title="interface in org.apache.sling.jcr.jackrabbit.accessmanager">ModifyPrincipalAce</a></span></div>
<div class="block"><p>
 Sling Post Servlet implementation for modifying the principalbased ACE for a principal on a JCR
 resource.
 </p>
 <h2>Rest Service Description</h2>
 <p>
 Modify a principal's ACEs for the node identified as a resource by the request
 URL &gt;resource&lt;.modifyPAce.html
 </p>
 <h3>Transport Details:</h3>
 <h4>Methods</h4>
 <ul>
 <li>POST</li>
 </ul>
 <h4>Post Parameters</h4>
 <dl>
 <dt>principalId</dt>
 <dd>The principal of the ACEs to modify in the ACL specified by the path.</dd>
 <dt>privilege@[privilege_name]</dt>
 <dd>One or more privileges which will be applied to the ACE. Any permissions that are present in an
 existing ACE for the principal but not in the request are left untouched. The parameter value must be either 'allow' or 'all'. 
 For backward compatibility, 'granted' may also be used for the parameter value as an alias for 'allow'.</dd>
 <dt>restriction@[restriction_name]</dt>
 <dd>One or more restrictions which will be applied to the ACE. The value is the target value of the restriction to be set.</dd>
 <dt>restriction@[restriction_name]@Delete</dt>
 <dd>One or more restrictions which will be removed from the ACE</dd>
 <dt>privilege@[privilege_name]@Delete</dt>
 <dd>One param for each privilege to delete. The parameter value must be either 'allow' or 'all' to specify which state to delete from</dd>
 <dt>restriction@[privilege_name]@[restriction_name]@Allow</dt>
 <dt>restriction@[privilege_name]@[restriction_name]@Deny</dt>
 <dd>One param for each restriction value. The same parameter name may be used again for multi-value restrictions. The @Allow suffix 
     specifies whether to apply the restriction to the 'allow' privilege.  The value is the target value of the restriction to be set.</dd>
 <dt>restriction@[privilege_name]@[restriction_name]@Delete</dt>
 <dd>One param for each restriction to delete. The parameter value must be either 'allow' or 'all' to specify which state to delete from.</dd>
 </dl>

 <h4>Response</h4>
 <dl>
 <dt>200</dt>
 <dd>Success.</dd>
 <dt>404</dt>
 <dd>The resource was not found.</dd>
 <dt>500</dt>
 <dd>Failure. HTML explains the failure.</dd>
 </dl>

 <h4>Notes</h4>
 <p>
 The principalId is assumed to refer directly to an Authorizable, that comes direct from
 the UserManager. This can be a group or a user, but if its a group, denied permissions
 will not be added to the group. The group will only contain granted privileges.
 </p></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../../serialized-form.html#org.apache.sling.jcr.jackrabbit.accessmanager.post.ModifyPrincipalAceServlet">Serialized Form</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">ModifyPrincipalAceServlet</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addAces(java.lang.String,java.security.Principal,java.util.Map,boolean,org.apache.jackrabbit.api.security.JackrabbitAccessControlList,java.util.Map)" class="member-name-link">addAces</a><wbr>(@NotNull <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourcePath,
 @NotNull <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Principal.html" title="class or interface in java.security" class="external-link">Principal</a>&nbsp;principal,
 @NotNull <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../LocalRestriction.html" title="class in org.apache.sling.jcr.jackrabbit.accessmanager">LocalRestriction</a>&gt;,<wbr><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../LocalPrivilege.html" title="class in org.apache.sling.jcr.jackrabbit.accessmanager">LocalPrivilege</a>&gt;&gt;&nbsp;restrictionsToLocalPrivilegesMap,
 boolean&nbsp;isAllow,
 @NotNull org.apache.jackrabbit.api.security.JackrabbitAccessControlList&nbsp;acl,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;javax.jcr.security.Privilege,<wbr><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;privilegeLongestDepthMap)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Override to ensure we do not add enty that denies privileges which is not allowed in a principal ACE</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#allowNonExistingPaths()" class="member-name-link">allowNonExistingPaths</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns whether this operation can operate on paths that do
 not exist yet</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected org.apache.jackrabbit.api.security.JackrabbitAccessControlList</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAcl(javax.jcr.security.AccessControlManager,java.lang.String,java.security.Principal)" class="member-name-link">getAcl</a><wbr>(@NotNull javax.jcr.security.AccessControlManager&nbsp;acm,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourcePath,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Principal.html" title="class or interface in java.security" class="external-link">Principal</a>&nbsp;principal)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Override to ensure that we get the policy that implements <code>PrincipalAccessControlList</code></div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected @Nullable org.apache.jackrabbit.api.security.JackrabbitAccessControlEntry</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getJackrabbitAccessControlEntry(javax.jcr.security.AccessControlEntry,java.lang.String,java.security.Principal)" class="member-name-link">getJackrabbitAccessControlEntry</a><wbr>(@NotNull javax.jcr.security.AccessControlEntry&nbsp;entry,
 @NotNull <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourcePath,
 @NotNull <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Principal.html" title="class or interface in java.security" class="external-link">Principal</a>&nbsp;forPrincipal)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Override to ensure that we only return the entries that have an effectivePath that matches
 the current resourcePath</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#modifyPrincipalAce(javax.jcr.Session,java.lang.String,java.lang.String,java.util.Collection,boolean)" class="member-name-link">modifyPrincipalAce</a><wbr>(javax.jcr.Session&nbsp;jcrSession,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourcePath,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;principalId,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="../LocalPrivilege.html" title="class in org.apache.sling.jcr.jackrabbit.accessmanager">LocalPrivilege</a>&gt;&nbsp;localPrivileges,
 boolean&nbsp;autoSave)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add or modify the access control entry for the specified user 
 or group.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#modifyPrincipalAce(javax.jcr.Session,java.lang.String,java.lang.String,java.util.Map,boolean)" class="member-name-link">modifyPrincipalAce</a><wbr>(javax.jcr.Session&nbsp;jcrSession,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourcePath,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;principalId,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;privileges,
 boolean&nbsp;autoSave)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add or modify the access control entry for the specified user 
 or group.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#modifyPrincipalAce(javax.jcr.Session,java.lang.String,java.lang.String,java.util.Map,java.util.Map,java.util.Map,java.util.Set,boolean)" class="member-name-link">modifyPrincipalAce</a><wbr>(javax.jcr.Session&nbsp;jcrSession,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourcePath,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;principalId,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;privileges,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>javax.jcr.Value&gt;&nbsp;restrictions,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>javax.jcr.Value[]&gt;&nbsp;mvRestrictions,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;removeRestrictionNames,
 boolean&nbsp;autoSave)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add or modify the access control entry for the specified user 
 or group.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeAces(java.lang.String,java.lang.String,java.security.Principal,org.apache.jackrabbit.api.security.JackrabbitAccessControlList)" class="member-name-link">removeAces</a><wbr>(@NotNull <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourcePath,
 @Nullable <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;order,
 @NotNull <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Principal.html" title="class or interface in java.security" class="external-link">Principal</a>&nbsp;principal,
 @NotNull org.apache.jackrabbit.api.security.JackrabbitAccessControlList&nbsp;acl)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Override to ensure that we only remove the entries that have an effectivePath that matches
 the current resourcePath</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.sling.jcr.jackrabbit.accessmanager.post.ModifyAceServlet">Methods inherited from class&nbsp;org.apache.sling.jcr.jackrabbit.accessmanager.post.<a href="ModifyAceServlet.html" title="class in org.apache.sling.jcr.jackrabbit.accessmanager.post">ModifyAceServlet</a></h3>
<code><a href="ModifyAceServlet.html#applyPrivilegeAndRestrictions(java.util.Map,javax.jcr.security.Privilege,boolean,java.util.Set,boolean,java.util.Set)">applyPrivilegeAndRestrictions</a>, <a href="ModifyAceServlet.html#buildRestrictionNameToDefinitionMap(java.lang.String)">buildRestrictionNameToDefinitionMap</a>, <a href="ModifyAceServlet.html#getMatchedRequestParameterNames(org.apache.sling.api.SlingHttpServletRequest,java.util.regex.Pattern)">getMatchedRequestParameterNames</a>, <a href="ModifyAceServlet.html#handleOperation(org.apache.sling.api.SlingHttpServletRequest,org.apache.sling.servlets.post.PostResponse,java.util.List)">handleOperation</a>, <a href="ModifyAceServlet.html#loadStoredAce(javax.jcr.security.AccessControlManager,java.lang.String,java.security.Principal,java.util.Map)">loadStoredAce</a>, <a href="ModifyAceServlet.html#modifyAce(javax.jcr.Session,java.lang.String,java.lang.String,java.util.Collection,java.lang.String,boolean)">modifyAce</a>, <a href="ModifyAceServlet.html#modifyAce(javax.jcr.Session,java.lang.String,java.lang.String,java.util.Collection,java.lang.String,boolean,java.util.List)">modifyAce</a>, <a href="ModifyAceServlet.html#modifyAce(javax.jcr.Session,java.lang.String,java.lang.String,java.util.Map,java.lang.String)">modifyAce</a>, <a href="ModifyAceServlet.html#modifyAce(javax.jcr.Session,java.lang.String,java.lang.String,java.util.Map,java.lang.String,boolean)">modifyAce</a>, <a href="ModifyAceServlet.html#modifyAce(javax.jcr.Session,java.lang.String,java.lang.String,java.util.Map,java.lang.String,java.util.Map,java.util.Map,java.util.Set)">modifyAce</a>, <a href="ModifyAceServlet.html#modifyAce(javax.jcr.Session,java.lang.String,java.lang.String,java.util.Map,java.lang.String,java.util.Map,java.util.Map,java.util.Set,boolean)">modifyAce</a>, <a href="ModifyAceServlet.html#modifyAce(javax.jcr.Session,java.lang.String,java.lang.String,java.util.Map,java.lang.String,java.util.Map,java.util.Map,java.util.Set,boolean,java.util.List)">modifyAce</a>, <a href="ModifyAceServlet.html#postedRestrictionsForPrivilege(org.apache.sling.api.SlingHttpServletRequest,java.util.Map,javax.jcr.security.Privilege,org.apache.sling.jcr.jackrabbit.accessmanager.post.ModifyAceServlet.PrivilegeValues,java.util.Set)">postedRestrictionsForPrivilege</a>, <a href="ModifyAceServlet.html#processPostedPrivilegeAndRestrictionParams(javax.jcr.security.AccessControlManager,org.apache.sling.api.SlingHttpServletRequest,java.util.Map,java.util.Map,java.util.Map)">processPostedPrivilegeAndRestrictionParams</a>, <a href="ModifyAceServlet.html#processPostedPrivilegeDeleteParams(javax.jcr.security.AccessControlManager,org.apache.sling.api.SlingHttpServletRequest,java.util.Map)">processPostedPrivilegeDeleteParams</a>, <a href="ModifyAceServlet.html#processPostedRestrictionDeleteParams(javax.jcr.security.AccessControlManager,org.apache.sling.api.SlingHttpServletRequest,java.util.Map,java.util.Map)">processPostedRestrictionDeleteParams</a>, <a href="ModifyAceServlet.html#toLocalRestriction(org.apache.sling.api.SlingHttpServletRequest,java.util.Map,java.lang.String,java.lang.String)">toLocalRestriction</a>, <a href="ModifyAceServlet.html#validateArgs(javax.jcr.Session,java.lang.String,java.lang.String)">validateArgs</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.sling.jcr.jackrabbit.accessmanager.post.AbstractAccessPostServlet">Methods inherited from class&nbsp;org.apache.sling.jcr.jackrabbit.accessmanager.post.<a href="AbstractAccessPostServlet.html" title="class in org.apache.sling.jcr.jackrabbit.accessmanager.post">AbstractAccessPostServlet</a></h3>
<code><a href="AbstractAccessPostServlet.html#bindPostResponseCreator(org.apache.sling.servlets.post.PostResponseCreator,java.util.Map)">bindPostResponseCreator</a>, <a href="AbstractAccessPostServlet.html#createHtmlResponse(org.apache.sling.api.SlingHttpServletRequest)">createHtmlResponse</a>, <a href="AbstractAccessPostServlet.html#doPost(org.apache.sling.api.SlingHttpServletRequest,org.apache.sling.api.SlingHttpServletResponse)">doPost</a>, <a href="AbstractAccessPostServlet.html#externalizePath(org.apache.sling.api.SlingHttpServletRequest,java.lang.String)">externalizePath</a>, <a href="AbstractAccessPostServlet.html#getAccessControlList(javax.jcr.security.AccessControlManager,java.lang.String,boolean)">getAccessControlList</a>, <a href="AbstractAccessPostServlet.html#getAccessControlListOrNull(javax.jcr.security.AccessControlManager,java.lang.String,boolean)">getAccessControlListOrNull</a>, <a href="AbstractAccessPostServlet.html#getItemPath(org.apache.sling.api.SlingHttpServletRequest)">getItemPath</a>, <a href="AbstractAccessPostServlet.html#getParentPath(java.lang.String)">getParentPath</a>, <a href="AbstractAccessPostServlet.html#getRedirectUrl(javax.servlet.http.HttpServletRequest,org.apache.sling.servlets.post.AbstractPostResponse)">getRedirectUrl</a>, <a href="AbstractAccessPostServlet.html#getRedirectUrl(javax.servlet.http.HttpServletRequest,org.apache.sling.servlets.post.PostResponse)">getRedirectUrl</a>, <a href="AbstractAccessPostServlet.html#handleOperation(org.apache.sling.api.SlingHttpServletRequest,org.apache.sling.servlets.post.AbstractPostResponse,java.util.List)">handleOperation</a>, <a href="AbstractAccessPostServlet.html#isSetStatus(org.apache.sling.api.SlingHttpServletRequest)">isSetStatus</a>, <a href="AbstractAccessPostServlet.html#unbindPostResponseCreator(org.apache.sling.servlets.post.PostResponseCreator,java.util.Map)">unbindPostResponseCreator</a>, <a href="AbstractAccessPostServlet.html#validateResourcePath(javax.jcr.Session,java.lang.String)">validateResourcePath</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.sling.jcr.jackrabbit.accessmanager.post.AbstractAccessServlet">Methods inherited from class&nbsp;org.apache.sling.jcr.jackrabbit.accessmanager.post.<a href="AbstractAccessServlet.html" title="class in org.apache.sling.jcr.jackrabbit.accessmanager.post">AbstractAccessServlet</a></h3>
<code><a href="AbstractAccessServlet.html#bindRestrictionProvider(org.apache.jackrabbit.oak.spi.security.authorization.restriction.RestrictionProvider)">bindRestrictionProvider</a>, <a href="AbstractAccessServlet.html#getRestrictionProvider()">getRestrictionProvider</a>, <a href="AbstractAccessServlet.html#unbindRestrictionProvider(org.apache.jackrabbit.oak.spi.security.authorization.restriction.RestrictionProvider)">unbindRestrictionProvider</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.sling.api.servlets.SlingAllMethodsServlet">Methods inherited from class&nbsp;org.apache.sling.api.servlets.<a href="../../../../api/servlets/SlingAllMethodsServlet.html" title="class in org.apache.sling.api.servlets">SlingAllMethodsServlet</a></h3>
<code><a href="../../../../api/servlets/SlingAllMethodsServlet.html#doDelete(org.apache.sling.api.SlingHttpServletRequest,org.apache.sling.api.SlingHttpServletResponse)">doDelete</a>, <a href="../../../../api/servlets/SlingAllMethodsServlet.html#doPut(org.apache.sling.api.SlingHttpServletRequest,org.apache.sling.api.SlingHttpServletResponse)">doPut</a>, <a href="../../../../api/servlets/SlingAllMethodsServlet.html#getAllowedRequestMethods(java.util.Map)">getAllowedRequestMethods</a>, <a href="../../../../api/servlets/SlingAllMethodsServlet.html#isMethodValid(java.lang.reflect.Method,java.lang.String)">isMethodValid</a>, <a href="../../../../api/servlets/SlingAllMethodsServlet.html#mayService(org.apache.sling.api.SlingHttpServletRequest,org.apache.sling.api.SlingHttpServletResponse)">mayService</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.sling.api.servlets.SlingSafeMethodsServlet">Methods inherited from class&nbsp;org.apache.sling.api.servlets.<a href="../../../../api/servlets/SlingSafeMethodsServlet.html" title="class in org.apache.sling.api.servlets">SlingSafeMethodsServlet</a></h3>
<code><a href="../../../../api/servlets/SlingSafeMethodsServlet.html#doGeneric(org.apache.sling.api.SlingHttpServletRequest,org.apache.sling.api.SlingHttpServletResponse)">doGeneric</a>, <a href="../../../../api/servlets/SlingSafeMethodsServlet.html#doGet(org.apache.sling.api.SlingHttpServletRequest,org.apache.sling.api.SlingHttpServletResponse)">doGet</a>, <a href="../../../../api/servlets/SlingSafeMethodsServlet.html#doHead(org.apache.sling.api.SlingHttpServletRequest,org.apache.sling.api.SlingHttpServletResponse)">doHead</a>, <a href="../../../../api/servlets/SlingSafeMethodsServlet.html#doOptions(org.apache.sling.api.SlingHttpServletRequest,org.apache.sling.api.SlingHttpServletResponse)">doOptions</a>, <a href="../../../../api/servlets/SlingSafeMethodsServlet.html#doTrace(org.apache.sling.api.SlingHttpServletRequest,org.apache.sling.api.SlingHttpServletResponse)">doTrace</a>, <a href="../../../../api/servlets/SlingSafeMethodsServlet.html#getServletInfo()">getServletInfo</a>, <a href="../../../../api/servlets/SlingSafeMethodsServlet.html#handleMethodNotImplemented(org.apache.sling.api.SlingHttpServletRequest,org.apache.sling.api.SlingHttpServletResponse)">handleMethodNotImplemented</a>, <a href="../../../../api/servlets/SlingSafeMethodsServlet.html#service(javax.servlet.ServletRequest,javax.servlet.ServletResponse)">service</a>, <a href="../../../../api/servlets/SlingSafeMethodsServlet.html#service(org.apache.sling.api.SlingHttpServletRequest,org.apache.sling.api.SlingHttpServletResponse)">service</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-javax.servlet.GenericServlet">Methods inherited from class&nbsp;javax.servlet.GenericServlet</h3>
<code>destroy, getInitParameter, getInitParameterNames, getServletConfig, getServletContext, getServletName, init, init, log, log</code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>ModifyPrincipalAceServlet</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">ModifyPrincipalAceServlet</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="allowNonExistingPaths()">
<h3>allowNonExistingPaths</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">allowNonExistingPaths</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from class:&nbsp;<code><a href="AbstractAccessPostServlet.html#allowNonExistingPaths()">AbstractAccessPostServlet</a></code></span></div>
<div class="block">Returns whether this operation can operate on paths that do
 not exist yet</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="AbstractAccessPostServlet.html#allowNonExistingPaths()">allowNonExistingPaths</a></code>&nbsp;in class&nbsp;<code><a href="AbstractAccessPostServlet.html" title="class in org.apache.sling.jcr.jackrabbit.accessmanager.post">AbstractAccessPostServlet</a></code></dd>
<dt>Returns:</dt>
<dd>true if the resourcePath must exist, false otherwise</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="modifyPrincipalAce(javax.jcr.Session,java.lang.String,java.lang.String,java.util.Map,boolean)">
<h3>modifyPrincipalAce</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">modifyPrincipalAce</span><wbr><span class="parameters">(javax.jcr.Session&nbsp;jcrSession,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourcePath,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;principalId,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;privileges,
 boolean&nbsp;autoSave)</span>
                        throws <span class="exceptions">javax.jcr.RepositoryException</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../ModifyPrincipalAce.html#modifyPrincipalAce(javax.jcr.Session,java.lang.String,java.lang.String,java.util.Map,boolean)">ModifyPrincipalAce</a></code></span></div>
<div class="block">Add or modify the access control entry for the specified user 
 or group.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../ModifyPrincipalAce.html#modifyPrincipalAce(javax.jcr.Session,java.lang.String,java.lang.String,java.util.Map,boolean)">modifyPrincipalAce</a></code>&nbsp;in interface&nbsp;<code><a href="../ModifyPrincipalAce.html" title="interface in org.apache.sling.jcr.jackrabbit.accessmanager">ModifyPrincipalAce</a></code></dd>
<dt>Parameters:</dt>
<dd><code>jcrSession</code> - the JCR session of the user updating the user</dd>
<dd><code>resourcePath</code> - The absolute path of the resource to apply the ACE to (required)</dd>
<dd><code>principalId</code> - The name of the user/group to provision (required)</dd>
<dd><code>privileges</code> - Map of privileges to apply. (optional)</dd>
<dd><code>autoSave</code> - true to automatically save changes to the JCR session, false otherwise</dd>
<dt>Throws:</dt>
<dd><code>javax.jcr.RepositoryException</code> - if any errors applying the changes</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="modifyPrincipalAce(javax.jcr.Session,java.lang.String,java.lang.String,java.util.Map,java.util.Map,java.util.Map,java.util.Set,boolean)">
<h3>modifyPrincipalAce</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">modifyPrincipalAce</span><wbr><span class="parameters">(javax.jcr.Session&nbsp;jcrSession,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourcePath,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;principalId,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;privileges,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>javax.jcr.Value&gt;&nbsp;restrictions,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>javax.jcr.Value[]&gt;&nbsp;mvRestrictions,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;removeRestrictionNames,
 boolean&nbsp;autoSave)</span>
                        throws <span class="exceptions">javax.jcr.RepositoryException</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../ModifyPrincipalAce.html#modifyPrincipalAce(javax.jcr.Session,java.lang.String,java.lang.String,java.util.Map,java.util.Map,java.util.Map,java.util.Set,boolean)">ModifyPrincipalAce</a></code></span></div>
<div class="block">Add or modify the access control entry for the specified user 
 or group.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../ModifyPrincipalAce.html#modifyPrincipalAce(javax.jcr.Session,java.lang.String,java.lang.String,java.util.Map,java.util.Map,java.util.Map,java.util.Set,boolean)">modifyPrincipalAce</a></code>&nbsp;in interface&nbsp;<code><a href="../ModifyPrincipalAce.html" title="interface in org.apache.sling.jcr.jackrabbit.accessmanager">ModifyPrincipalAce</a></code></dd>
<dt>Parameters:</dt>
<dd><code>jcrSession</code> - the JCR session of the user updating the user</dd>
<dd><code>resourcePath</code> - The absolute path of the resource to apply the ACE to (required)</dd>
<dd><code>principalId</code> - The name of the user/group to provision (required)</dd>
<dd><code>privileges</code> - Map of privileges to apply. (optional)</dd>
<dd><code>restrictions</code> - Map of single-value restrictions to apply. (optional)</dd>
<dd><code>mvRestrictions</code> - Map of multi-value restrictions to apply. (optional)</dd>
<dd><code>removeRestrictionNames</code> - Set of existing restriction names to remove (optional)</dd>
<dd><code>autoSave</code> - true to automatically save changes to the JCR session, false otherwise</dd>
<dt>Throws:</dt>
<dd><code>javax.jcr.RepositoryException</code> - if any errors applying the changes</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="modifyPrincipalAce(javax.jcr.Session,java.lang.String,java.lang.String,java.util.Collection,boolean)">
<h3>modifyPrincipalAce</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">modifyPrincipalAce</span><wbr><span class="parameters">(javax.jcr.Session&nbsp;jcrSession,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourcePath,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;principalId,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="../LocalPrivilege.html" title="class in org.apache.sling.jcr.jackrabbit.accessmanager">LocalPrivilege</a>&gt;&nbsp;localPrivileges,
 boolean&nbsp;autoSave)</span>
                        throws <span class="exceptions">javax.jcr.RepositoryException</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../ModifyPrincipalAce.html#modifyPrincipalAce(javax.jcr.Session,java.lang.String,java.lang.String,java.util.Collection,boolean)">ModifyPrincipalAce</a></code></span></div>
<div class="block">Add or modify the access control entry for the specified user 
 or group.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../ModifyPrincipalAce.html#modifyPrincipalAce(javax.jcr.Session,java.lang.String,java.lang.String,java.util.Collection,boolean)">modifyPrincipalAce</a></code>&nbsp;in interface&nbsp;<code><a href="../ModifyPrincipalAce.html" title="interface in org.apache.sling.jcr.jackrabbit.accessmanager">ModifyPrincipalAce</a></code></dd>
<dt>Parameters:</dt>
<dd><code>jcrSession</code> - the JCR session of the user updating the user</dd>
<dd><code>resourcePath</code> - The absolute path of the resource to apply the ACE to (required)</dd>
<dd><code>principalId</code> - The name of the user/group to provision (required)</dd>
<dd><code>localPrivileges</code> - collection of privileges to apply.</dd>
<dd><code>autoSave</code> - true to automatically save changes to the JCR session, false otherwise</dd>
<dt>Throws:</dt>
<dd><code>javax.jcr.RepositoryException</code> - if any errors applying the changes</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAcl(javax.jcr.security.AccessControlManager,java.lang.String,java.security.Principal)">
<h3>getAcl</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.apache.jackrabbit.api.security.JackrabbitAccessControlList</span>&nbsp;<span class="element-name">getAcl</span><wbr><span class="parameters">(@NotNull
 @NotNull javax.jcr.security.AccessControlManager&nbsp;acm,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourcePath,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Principal.html" title="class or interface in java.security" class="external-link">Principal</a>&nbsp;principal)</span>
                                                                         throws <span class="exceptions">javax.jcr.RepositoryException</span></div>
<div class="block">Override to ensure that we get the policy that implements <code>PrincipalAccessControlList</code></div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="ModifyAceServlet.html#getAcl(javax.jcr.security.AccessControlManager,java.lang.String,java.security.Principal)">getAcl</a></code>&nbsp;in class&nbsp;<code><a href="ModifyAceServlet.html" title="class in org.apache.sling.jcr.jackrabbit.accessmanager.post">ModifyAceServlet</a></code></dd>
<dt>Parameters:</dt>
<dd><code>acm</code> - the access control manager</dd>
<dd><code>resourcePath</code> - the resource path</dd>
<dd><code>principal</code> - the principal for principalbased ACL</dd>
<dt>Returns:</dt>
<dd>the found ACL object</dd>
<dt>Throws:</dt>
<dd><code>javax.jcr.RepositoryException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeAces(java.lang.String,java.lang.String,java.security.Principal,org.apache.jackrabbit.api.security.JackrabbitAccessControlList)">
<h3>removeAces</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">removeAces</span><wbr><span class="parameters">(@NotNull
 @NotNull <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourcePath,
 @Nullable
 @Nullable <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;order,
 @NotNull
 @NotNull <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Principal.html" title="class or interface in java.security" class="external-link">Principal</a>&nbsp;principal,
 @NotNull
 @NotNull org.apache.jackrabbit.api.security.JackrabbitAccessControlList&nbsp;acl)</span>
                     throws <span class="exceptions">javax.jcr.RepositoryException</span></div>
<div class="block">Override to ensure that we only remove the entries that have an effectivePath that matches
 the current resourcePath</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="ModifyAceServlet.html#removeAces(java.lang.String,java.lang.String,java.security.Principal,org.apache.jackrabbit.api.security.JackrabbitAccessControlList)">removeAces</a></code>&nbsp;in class&nbsp;<code><a href="ModifyAceServlet.html" title="class in org.apache.sling.jcr.jackrabbit.accessmanager.post">ModifyAceServlet</a></code></dd>
<dd><code>order</code> - the requested order (may be null)</dd>
<dd><code>principal</code> - the principal whose aces should be removed</dd>
<dd><code>acl</code> - the access control list to update</dd>
<dt>Returns:</dt>
<dd>the original order if it was supplied, otherwise the order of the first ACE</dd>
<dt>Throws:</dt>
<dd><code>javax.jcr.RepositoryException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addAces(java.lang.String,java.security.Principal,java.util.Map,boolean,org.apache.jackrabbit.api.security.JackrabbitAccessControlList,java.util.Map)">
<h3>addAces</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addAces</span><wbr><span class="parameters">(@NotNull
 @NotNull <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourcePath,
 @NotNull
 @NotNull <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Principal.html" title="class or interface in java.security" class="external-link">Principal</a>&nbsp;principal,
 @NotNull
 @NotNull <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../LocalRestriction.html" title="class in org.apache.sling.jcr.jackrabbit.accessmanager">LocalRestriction</a>&gt;,<wbr><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../LocalPrivilege.html" title="class in org.apache.sling.jcr.jackrabbit.accessmanager">LocalPrivilege</a>&gt;&gt;&nbsp;restrictionsToLocalPrivilegesMap,
 boolean&nbsp;isAllow,
 @NotNull
 @NotNull org.apache.jackrabbit.api.security.JackrabbitAccessControlList&nbsp;acl,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;javax.jcr.security.Privilege,<wbr><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;privilegeLongestDepthMap)</span>
                throws <span class="exceptions">javax.jcr.RepositoryException</span></div>
<div class="block">Override to ensure we do not add enty that denies privileges which is not allowed in a principal ACE</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="ModifyAceServlet.html#addAces(java.lang.String,java.security.Principal,java.util.Map,boolean,org.apache.jackrabbit.api.security.JackrabbitAccessControlList,java.util.Map)">addAces</a></code>&nbsp;in class&nbsp;<code><a href="ModifyAceServlet.html" title="class in org.apache.sling.jcr.jackrabbit.accessmanager.post">ModifyAceServlet</a></code></dd>
<dt>Parameters:</dt>
<dd><code>resourcePath</code> - the path of the resource</dd>
<dd><code>principal</code> - the principal whose aces should be added</dd>
<dd><code>restrictionsToLocalPrivilegesMap</code> - the map containing the restrictions mapped to the LocalPrivlege items with those resrictions</dd>
<dd><code>isAllow</code> - true for 'allow' ACE, false for 'deny' ACE</dd>
<dd><code>acl</code> - the access control list to update</dd>
<dt>Throws:</dt>
<dd><code>javax.jcr.RepositoryException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getJackrabbitAccessControlEntry(javax.jcr.security.AccessControlEntry,java.lang.String,java.security.Principal)">
<h3>getJackrabbitAccessControlEntry</h3>
<div class="member-signature"><span class="annotations">@Nullable
</span><span class="modifiers">protected</span>&nbsp;<span class="return-type">@Nullable org.apache.jackrabbit.api.security.JackrabbitAccessControlEntry</span>&nbsp;<span class="element-name">getJackrabbitAccessControlEntry</span><wbr><span class="parameters">(@NotNull
 @NotNull javax.jcr.security.AccessControlEntry&nbsp;entry,
 @NotNull
 @NotNull <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourcePath,
 @NotNull
 @NotNull <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Principal.html" title="class or interface in java.security" class="external-link">Principal</a>&nbsp;forPrincipal)</span></div>
<div class="block">Override to ensure that we only return the entries that have an effectivePath that matches
 the current resourcePath</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="ModifyAceServlet.html#getJackrabbitAccessControlEntry(javax.jcr.security.AccessControlEntry,java.lang.String,java.security.Principal)">getJackrabbitAccessControlEntry</a></code>&nbsp;in class&nbsp;<code><a href="ModifyAceServlet.html" title="class in org.apache.sling.jcr.jackrabbit.accessmanager.post">ModifyAceServlet</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
