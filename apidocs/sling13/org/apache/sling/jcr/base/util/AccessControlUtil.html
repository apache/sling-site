<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) -->
<title>AccessControlUtil (Apache Sling 13 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.sling.jcr.base.util, class: AccessControlUtil">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/AccessControlUtil.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.sling.jcr.base.util</a></div>
<h1 title="Class AccessControlUtil" class="title">Class AccessControlUtil</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.sling.jcr.base.util.AccessControlUtil</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">AccessControlUtil</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">A simple utility class providing utilities with respect to
 access control over repositories.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">AccessControlUtil</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button><button id="method-summary-table-tab6" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab6', 3)" class="table-tab">Deprecated Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#addEntry(javax.jcr.security.AccessControlList,java.security.Principal,javax.jcr.security.Privilege%5B%5D,boolean)" class="member-name-link">addEntry</a><wbr>(javax.jcr.security.AccessControlList&nbsp;acl,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Principal.html" title="class or interface in java.security" class="external-link">Principal</a>&nbsp;principal,
 javax.jcr.security.Privilege[]&nbsp;privileges,
 boolean&nbsp;isAllow)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Same as <a href="#addEntry(javax.jcr.security.AccessControlList,java.security.Principal,javax.jcr.security.Privilege%5B%5D,boolean,java.util.Map)"><code>addEntry(AccessControlList, Principal, Privilege[], boolean, Map)</code></a> using
 some implementation specific restrictions.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#addEntry(javax.jcr.security.AccessControlList,java.security.Principal,javax.jcr.security.Privilege%5B%5D,boolean,java.util.Map)" class="member-name-link">addEntry</a><wbr>(javax.jcr.security.AccessControlList&nbsp;acl,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Principal.html" title="class or interface in java.security" class="external-link">Principal</a>&nbsp;principal,
 javax.jcr.security.Privilege[]&nbsp;privileges,
 boolean&nbsp;isAllow,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&nbsp;restrictions)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Adds an access control entry to the acl consisting of the specified
 <code>principal</code>, the specified <code>privileges</code>, the
 <code>isAllow</code> flag and an optional map containing additional
 restrictions.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#addEntry(javax.jcr.security.AccessControlList,java.security.Principal,javax.jcr.security.Privilege%5B%5D,boolean,java.util.Map,java.util.Map)" class="member-name-link">addEntry</a><wbr>(javax.jcr.security.AccessControlList&nbsp;acl,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Principal.html" title="class or interface in java.security" class="external-link">Principal</a>&nbsp;principal,
 javax.jcr.security.Privilege[]&nbsp;privileges,
 boolean&nbsp;isAllow,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>javax.jcr.Value&gt;&nbsp;restrictions,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>javax.jcr.Value[]&gt;&nbsp;mvRestrictions)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Adds an access control entry to the acl consisting of the specified
 <code>principal</code>, the specified <code>privileges</code>, the
 <code>isAllow</code> flag and an optional map containing additional
 restrictions.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static javax.jcr.security.AccessControlManager</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getAccessControlManager(javax.jcr.Session)" class="member-name-link">getAccessControlManager</a><wbr>(javax.jcr.Session&nbsp;session)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the <code>AccessControlManager</code> for the given
 <code>session</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getPath(javax.jcr.security.AccessControlList)" class="member-name-link">getPath</a><wbr>(javax.jcr.security.AccessControlList&nbsp;acl)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the path of the node <code>AccessControlList</code> acl
 has been created for.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static org.apache.jackrabbit.api.security.principal.PrincipalManager</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getPrincipalManager(javax.jcr.Session)" class="member-name-link">getPrincipalManager</a><wbr>(javax.jcr.Session&nbsp;session)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the <code>PrincipalManager</code> for the given
 <code>session</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static org.apache.jackrabbit.api.security.user.UserManager</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getUserManager(javax.jcr.Session)" class="member-name-link">getUserManager</a><wbr>(javax.jcr.Session&nbsp;session)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the <code>UserManager</code> for the given
 <code>session</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isAllow(javax.jcr.security.AccessControlEntry)" class="member-name-link">isAllow</a><wbr>(javax.jcr.security.AccessControlEntry&nbsp;ace)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns true if the AccessControlEntry represents 'allowed' rights or false
 it it represents 'denied' rights.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isEmpty(javax.jcr.security.AccessControlList)" class="member-name-link">isEmpty</a><wbr>(javax.jcr.security.AccessControlList&nbsp;acl)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns <code>true</code> if <code>AccessControlList</code> acl
 does not yet define any entries.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4 method-summary-table-tab6"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#replaceAccessControlEntry(javax.jcr.Session,java.lang.String,java.security.Principal,java.lang.String%5B%5D,java.lang.String%5B%5D,java.lang.String%5B%5D)" class="member-name-link">replaceAccessControlEntry</a><wbr>(javax.jcr.Session&nbsp;session,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourcePath,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Principal.html" title="class or interface in java.security" class="external-link">Principal</a>&nbsp;principal,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;grantedPrivilegeNames,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;deniedPrivilegeNames,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;removedPrivilegeNames)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">use @link <a href="#replaceAccessControlEntry(javax.jcr.Session,java.lang.String,java.security.Principal,java.lang.String%5B%5D,java.lang.String%5B%5D,java.lang.String%5B%5D,java.lang.String)"><code>replaceAccessControlEntry(Session, String, Principal, String[], String[], String[], String)</code></a> instead.</div>
</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#replaceAccessControlEntry(javax.jcr.Session,java.lang.String,java.security.Principal,java.lang.String%5B%5D,java.lang.String%5B%5D,java.lang.String%5B%5D,java.lang.String)" class="member-name-link">replaceAccessControlEntry</a><wbr>(javax.jcr.Session&nbsp;session,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourcePath,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Principal.html" title="class or interface in java.security" class="external-link">Principal</a>&nbsp;principal,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;grantedPrivilegeNames,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;deniedPrivilegeNames,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;removedPrivilegeNames,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;order)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Replaces existing access control entries in the ACL for the specified
 <code>principal</code> and <code>resourcePath</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#replaceAccessControlEntry(javax.jcr.Session,java.lang.String,java.security.Principal,java.lang.String%5B%5D,java.lang.String%5B%5D,java.lang.String%5B%5D,java.lang.String,java.util.Map,java.util.Map,java.util.Set)" class="member-name-link">replaceAccessControlEntry</a><wbr>(javax.jcr.Session&nbsp;session,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourcePath,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Principal.html" title="class or interface in java.security" class="external-link">Principal</a>&nbsp;principal,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;grantedPrivilegeNames,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;deniedPrivilegeNames,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;removedPrivilegeNames,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;order,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>javax.jcr.Value&gt;&nbsp;restrictions,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>javax.jcr.Value[]&gt;&nbsp;mvRestrictions,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;removedRestrictionNames)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Replaces existing access control entries in the ACL for the specified
 <code>principal</code> and <code>resourcePath</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#size(javax.jcr.security.AccessControlList)" class="member-name-link">size</a><wbr>(javax.jcr.security.AccessControlList&nbsp;acl)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the number of acl entries or 0 if the acl is empty.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>AccessControlUtil</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">AccessControlUtil</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getAccessControlManager(javax.jcr.Session)">
<h3>getAccessControlManager</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">javax.jcr.security.AccessControlManager</span>&nbsp;<span class="element-name">getAccessControlManager</span><wbr><span class="parameters">(javax.jcr.Session&nbsp;session)</span>
                                                                       throws <span class="exceptions">javax.jcr.UnsupportedRepositoryOperationException,
javax.jcr.RepositoryException</span></div>
<div class="block">Returns the <code>AccessControlManager</code> for the given
 <code>session</code>. If the session does not have a
 <code>getAccessControlManager</code> method, a
 <code>UnsupportedRepositoryOperationException</code> is thrown. Otherwise
 the <code>AccessControlManager</code> is returned or if the call fails,
 the respective exception is thrown.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>session</code> - The JCR Session whose <code>AccessControlManager</code> is
            to be returned. If the session is a pooled session, the
            session underlying the pooled session is actually used.</dd>
<dt>Returns:</dt>
<dd>The <code>AccessControlManager</code> of the session</dd>
<dt>Throws:</dt>
<dd><code>javax.jcr.UnsupportedRepositoryOperationException</code> - If the session has no
             <code>getAccessControlManager</code> method or the exception
             thrown by the method.</dd>
<dd><code>javax.jcr.RepositoryException</code> - Forwarded from the
             <code>getAccessControlManager</code> method call.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getUserManager(javax.jcr.Session)">
<h3>getUserManager</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.jackrabbit.api.security.user.UserManager</span>&nbsp;<span class="element-name">getUserManager</span><wbr><span class="parameters">(javax.jcr.Session&nbsp;session)</span>
                                                                          throws <span class="exceptions">javax.jcr.AccessDeniedException,
javax.jcr.UnsupportedRepositoryOperationException,
javax.jcr.RepositoryException</span></div>
<div class="block">Returns the <code>UserManager</code> for the given
 <code>session</code>. If the session does not have a
 <code>getUserManager</code> method, a
 <code>UnsupportedRepositoryOperationException</code> is thrown. Otherwise
 the <code>UserManager</code> is returned or if the call fails,
 the respective exception is thrown.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>session</code> - The JCR Session whose <code>UserManager</code> is
            to be returned. If the session is not a <code>JackrabbitSession</code>
            uses reflection to retrive the manager from the repository.</dd>
<dt>Returns:</dt>
<dd>The <code>UserManager</code> of the session.</dd>
<dt>Throws:</dt>
<dd><code>javax.jcr.AccessDeniedException</code> - If this session is not allowed
                          to access user data.</dd>
<dd><code>javax.jcr.UnsupportedRepositoryOperationException</code> - If the session has no
            <code>getUserManager</code> method or the exception
            thrown by the method.</dd>
<dd><code>javax.jcr.RepositoryException</code> - Forwarded from the
             <code>getUserManager</code> method call.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPrincipalManager(javax.jcr.Session)">
<h3>getPrincipalManager</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.jackrabbit.api.security.principal.PrincipalManager</span>&nbsp;<span class="element-name">getPrincipalManager</span><wbr><span class="parameters">(javax.jcr.Session&nbsp;session)</span>
                                                                                         throws <span class="exceptions">javax.jcr.AccessDeniedException,
javax.jcr.UnsupportedRepositoryOperationException,
javax.jcr.RepositoryException</span></div>
<div class="block">Returns the <code>PrincipalManager</code> for the given
 <code>session</code>. If the session does not have a
 <code>PrincipalManager</code> method, a
 <code>UnsupportedRepositoryOperationException</code> is thrown. Otherwise
 the <code>PrincipalManager</code> is returned or if the call fails,
 the respective exception is thrown.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>session</code> - The JCR Session whose <code>PrincipalManager</code> is
            to be returned. If the session is not a <code>JackrabbitSession</code>
            uses reflection to retrive the manager from the repository.</dd>
<dt>Returns:</dt>
<dd>The <code>PrincipalManager</code> of the session.</dd>
<dt>Throws:</dt>
<dd><code>javax.jcr.AccessDeniedException</code> - If the current user lacks sufficient privileges</dd>
<dd><code>javax.jcr.UnsupportedRepositoryOperationException</code> - If the session has no
                                <code>PrincipalManager</code> method or the exception
                thrown by the method.</dd>
<dd><code>javax.jcr.RepositoryException</code> - Forwarded from the
             <code>PrincipalManager</code> method call.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPath(javax.jcr.security.AccessControlList)">
<h3>getPath</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getPath</span><wbr><span class="parameters">(javax.jcr.security.AccessControlList&nbsp;acl)</span>
                      throws <span class="exceptions">javax.jcr.RepositoryException</span></div>
<div class="block">Returns the path of the node <code>AccessControlList</code> acl
 has been created for.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>acl</code> - The acl to get the path for</dd>
<dt>Returns:</dt>
<dd>the path for the acl</dd>
<dt>Throws:</dt>
<dd><code>javax.jcr.RepositoryException</code> - Forwarded from the
             <code>getPath</code> method call.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isEmpty(javax.jcr.security.AccessControlList)">
<h3>isEmpty</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isEmpty</span><wbr><span class="parameters">(javax.jcr.security.AccessControlList&nbsp;acl)</span>
                       throws <span class="exceptions">javax.jcr.RepositoryException</span></div>
<div class="block">Returns <code>true</code> if <code>AccessControlList</code> acl
 does not yet define any entries.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>acl</code> - The acl to check</dd>
<dt>Returns:</dt>
<dd>true if the acl is empty, false otherwise</dd>
<dt>Throws:</dt>
<dd><code>javax.jcr.RepositoryException</code> - Forwarded from the
             <code>isEmpty</code> method call.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="size(javax.jcr.security.AccessControlList)">
<h3>size</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">size</span><wbr><span class="parameters">(javax.jcr.security.AccessControlList&nbsp;acl)</span>
                throws <span class="exceptions">javax.jcr.RepositoryException</span></div>
<div class="block">Returns the number of acl entries or 0 if the acl is empty.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>acl</code> - The acl to get the size of</dd>
<dt>Returns:</dt>
<dd>the size of the acl</dd>
<dt>Throws:</dt>
<dd><code>javax.jcr.RepositoryException</code> - Forwarded from the
             <code>size</code> method call.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addEntry(javax.jcr.security.AccessControlList,java.security.Principal,javax.jcr.security.Privilege[],boolean)">
<h3>addEntry</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">addEntry</span><wbr><span class="parameters">(javax.jcr.security.AccessControlList&nbsp;acl,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Principal.html" title="class or interface in java.security" class="external-link">Principal</a>&nbsp;principal,
 javax.jcr.security.Privilege[]&nbsp;privileges,
 boolean&nbsp;isAllow)</span>
                        throws <span class="exceptions">javax.jcr.security.AccessControlException,
javax.jcr.RepositoryException</span></div>
<div class="block">Same as <a href="#addEntry(javax.jcr.security.AccessControlList,java.security.Principal,javax.jcr.security.Privilege%5B%5D,boolean,java.util.Map)"><code>addEntry(AccessControlList, Principal, Privilege[], boolean, Map)</code></a> using
 some implementation specific restrictions.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>acl</code> - the list to add the new entry to</dd>
<dd><code>principal</code> - the principal for the user or group to add the entry for</dd>
<dd><code>privileges</code> - the set of privileges to grant or deny</dd>
<dd><code>isAllow</code> - try to grant the privileges or false to deny the privileges</dd>
<dt>Returns:</dt>
<dd><code>true</code> if this policy was modified,
 <code>false</code> otherwise.</dd>
<dt>Throws:</dt>
<dd><code>javax.jcr.security.AccessControlException</code> - If any of the given parameter is invalid
 or cannot be handled by the implementation.</dd>
<dd><code>javax.jcr.RepositoryException</code> - if any other error occurs.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addEntry(javax.jcr.security.AccessControlList,java.security.Principal,javax.jcr.security.Privilege[],boolean,java.util.Map)">
<h3>addEntry</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">addEntry</span><wbr><span class="parameters">(javax.jcr.security.AccessControlList&nbsp;acl,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Principal.html" title="class or interface in java.security" class="external-link">Principal</a>&nbsp;principal,
 javax.jcr.security.Privilege[]&nbsp;privileges,
 boolean&nbsp;isAllow,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&nbsp;restrictions)</span>
                        throws <span class="exceptions">javax.jcr.UnsupportedRepositoryOperationException,
javax.jcr.RepositoryException</span></div>
<div class="block">Adds an access control entry to the acl consisting of the specified
 <code>principal</code>, the specified <code>privileges</code>, the
 <code>isAllow</code> flag and an optional map containing additional
 restrictions.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>acl</code> - the list to add the new entry to</dd>
<dd><code>principal</code> - the principal for the user or group to add the entry for</dd>
<dd><code>privileges</code> - the set of privileges to grant or deny</dd>
<dd><code>isAllow</code> - try to grant the privileges or false to deny the privileges</dd>
<dd><code>restrictions</code> - (optional) additional restrictions to filter the scope of the added entry.  The value of the map must be a <code>Value</code> or <code>Value</code></dd>
<dt>Returns:</dt>
<dd><code>true</code> if this policy was modified,
 <code>false</code> otherwise.</dd>
<dt>Throws:</dt>
<dd><code>javax.jcr.UnsupportedRepositoryOperationException</code> - if the repository doesn't support adding access control entries</dd>
<dd><code>javax.jcr.RepositoryException</code> - if any other error occurs.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addEntry(javax.jcr.security.AccessControlList,java.security.Principal,javax.jcr.security.Privilege[],boolean,java.util.Map,java.util.Map)">
<h3>addEntry</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">addEntry</span><wbr><span class="parameters">(javax.jcr.security.AccessControlList&nbsp;acl,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Principal.html" title="class or interface in java.security" class="external-link">Principal</a>&nbsp;principal,
 javax.jcr.security.Privilege[]&nbsp;privileges,
 boolean&nbsp;isAllow,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>javax.jcr.Value&gt;&nbsp;restrictions,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>javax.jcr.Value[]&gt;&nbsp;mvRestrictions)</span>
                        throws <span class="exceptions">javax.jcr.UnsupportedRepositoryOperationException,
javax.jcr.RepositoryException</span></div>
<div class="block">Adds an access control entry to the acl consisting of the specified
 <code>principal</code>, the specified <code>privileges</code>, the
 <code>isAllow</code> flag and an optional map containing additional
 restrictions.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>acl</code> - the list to add the new entry to</dd>
<dd><code>principal</code> - the principal for the user or group to add the entry for</dd>
<dd><code>privileges</code> - the set of privileges to grant or deny</dd>
<dd><code>isAllow</code> - try to grant the privileges or false to deny the privileges</dd>
<dd><code>restrictions</code> - (optional) additional single-value restrictions to filter the scope of the added entry</dd>
<dd><code>mvRestrictions</code> - (optional) additional multi-value restrictions to filter the scope of the added entry</dd>
<dt>Returns:</dt>
<dd><code>true</code> if this policy was modified,
 <code>false</code> otherwise.</dd>
<dt>Throws:</dt>
<dd><code>javax.jcr.UnsupportedRepositoryOperationException</code> - if the repository doesn't support adding access control entries</dd>
<dd><code>javax.jcr.RepositoryException</code> - if any other error occurs.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="replaceAccessControlEntry(javax.jcr.Session,java.lang.String,java.security.Principal,java.lang.String[],java.lang.String[],java.lang.String[])">
<h3>replaceAccessControlEntry</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">replaceAccessControlEntry</span><wbr><span class="parameters">(javax.jcr.Session&nbsp;session,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourcePath,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Principal.html" title="class or interface in java.security" class="external-link">Principal</a>&nbsp;principal,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;grantedPrivilegeNames,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;deniedPrivilegeNames,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;removedPrivilegeNames)</span>
                                      throws <span class="exceptions">javax.jcr.RepositoryException</span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">use @link <a href="#replaceAccessControlEntry(javax.jcr.Session,java.lang.String,java.security.Principal,java.lang.String%5B%5D,java.lang.String%5B%5D,java.lang.String%5B%5D,java.lang.String)"><code>replaceAccessControlEntry(Session, String, Principal, String[], String[], String[], String)</code></a> instead.</div>
</div>
<div class="block">Replaces existing access control entries in the ACL for the specified
 <code>principal</code> and <code>resourcePath</code>. Any existing granted
 or denied privileges which do not conflict with the specified privileges
 are maintained. Where conflicts exist, existing privileges are dropped.
 The end result will be at most two ACEs for the principal: one for grants
 and one for denies. Aggregate privileges are disaggregated before checking
 for conflicts.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>session</code> - the JCR session of the user doing the work</dd>
<dd><code>resourcePath</code> - the path of the resource to replace the entry on</dd>
<dd><code>principal</code> - the principal for the user or group to add the entry for</dd>
<dd><code>grantedPrivilegeNames</code> - the names of the privileges to grant</dd>
<dd><code>deniedPrivilegeNames</code> - the names of the privileges to deny</dd>
<dd><code>removedPrivilegeNames</code> - privileges which, if they exist, should be
 removed for this principal and resource</dd>
<dt>Throws:</dt>
<dd><code>javax.jcr.RepositoryException</code> - if any error occurs.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="replaceAccessControlEntry(javax.jcr.Session,java.lang.String,java.security.Principal,java.lang.String[],java.lang.String[],java.lang.String[],java.lang.String)">
<h3>replaceAccessControlEntry</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">replaceAccessControlEntry</span><wbr><span class="parameters">(javax.jcr.Session&nbsp;session,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourcePath,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Principal.html" title="class or interface in java.security" class="external-link">Principal</a>&nbsp;principal,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;grantedPrivilegeNames,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;deniedPrivilegeNames,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;removedPrivilegeNames,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;order)</span>
                                      throws <span class="exceptions">javax.jcr.RepositoryException</span></div>
<div class="block">Replaces existing access control entries in the ACL for the specified
 <code>principal</code> and <code>resourcePath</code>. Any existing granted
 or denied privileges which do not conflict with the specified privileges
 are maintained. Where conflicts exist, existing privileges are dropped.
 The end result will be at most two ACEs for the principal: one for grants
 and one for denies. Aggregate privileges are disaggregated before checking
 for conflicts.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>session</code> - the JCR session of the user doing the work</dd>
<dd><code>resourcePath</code> - the path of the resource to replace the entry on</dd>
<dd><code>principal</code> - the principal for the user or group to add the entry for</dd>
<dd><code>grantedPrivilegeNames</code> - the names of the privileges to grant</dd>
<dd><code>deniedPrivilegeNames</code> - the names of the privileges to deny</dd>
<dd><code>removedPrivilegeNames</code> - privileges which, if they exist, should be
 removed for this principal and resource</dd>
<dd><code>order</code> - where the access control entry should go in the list.
         Value should be one of these:
         <table>
          <caption>Values</caption>
          <tr><td>null</td><td>If the ACE for the principal doesn't exist add at the end, otherwise leave the ACE at it's current position.</td></tr>
                        <tr><td>first</td><td>Place the target ACE as the first amongst its siblings</td></tr>
                        <tr><td>last</td><td>Place the target ACE as the last amongst its siblings</td></tr>
                        <tr><td>before xyz</td><td>Place the target ACE immediately before the sibling whose name is xyz</td></tr>
                        <tr><td>after xyz</td><td>Place the target ACE immediately after the sibling whose name is xyz</td></tr>
                        <tr><td>numeric</td><td>Place the target ACE at the specified numeric index</td></tr>
         </table></dd>
<dt>Throws:</dt>
<dd><code>javax.jcr.RepositoryException</code> - if any error occurs.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="replaceAccessControlEntry(javax.jcr.Session,java.lang.String,java.security.Principal,java.lang.String[],java.lang.String[],java.lang.String[],java.lang.String,java.util.Map,java.util.Map,java.util.Set)">
<h3>replaceAccessControlEntry</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">replaceAccessControlEntry</span><wbr><span class="parameters">(javax.jcr.Session&nbsp;session,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourcePath,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/Principal.html" title="class or interface in java.security" class="external-link">Principal</a>&nbsp;principal,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;grantedPrivilegeNames,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;deniedPrivilegeNames,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;removedPrivilegeNames,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;order,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>javax.jcr.Value&gt;&nbsp;restrictions,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr>javax.jcr.Value[]&gt;&nbsp;mvRestrictions,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;removedRestrictionNames)</span>
                                      throws <span class="exceptions">javax.jcr.RepositoryException</span></div>
<div class="block">Replaces existing access control entries in the ACL for the specified
 <code>principal</code> and <code>resourcePath</code>. Any existing granted
 or denied privileges which do not conflict with the specified privileges
 are maintained. Where conflicts exist, existing privileges are dropped.
 The end result will be at most two ACEs for the principal: one for grants
 and one for denies. Aggregate privileges are disaggregated before checking
 for conflicts.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>session</code> - the JCR session of the user doing the work</dd>
<dd><code>resourcePath</code> - the path of the resource to replace the entry on</dd>
<dd><code>principal</code> - the principal for the user or group to add the entry for</dd>
<dd><code>grantedPrivilegeNames</code> - the names of the privileges to grant</dd>
<dd><code>deniedPrivilegeNames</code> - the names of the privileges to deny</dd>
<dd><code>removedPrivilegeNames</code> - privileges which, if they exist, should be
 removed for this principal and resource</dd>
<dd><code>order</code> - where the access control entry should go in the list.
         Value should be one of these:
         <table>
          <caption>Values</caption>
          <tr><td>null</td><td>If the ACE for the principal doesn't exist add at the end, otherwise leave the ACE at it's current position.</td></tr>
                        <tr><td>first</td><td>Place the target ACE as the first amongst its siblings</td></tr>
                        <tr><td>last</td><td>Place the target ACE as the last amongst its siblings</td></tr>
                        <tr><td>before xyz</td><td>Place the target ACE immediately before the sibling whose name is xyz</td></tr>
                        <tr><td>after xyz</td><td>Place the target ACE immediately after the sibling whose name is xyz</td></tr>
                        <tr><td>numeric</td><td>Place the target ACE at the specified numeric index</td></tr>
         </table></dd>
<dd><code>restrictions</code> - (optional) additional single-value restrictions to filter the scope of the replaced entry</dd>
<dd><code>mvRestrictions</code> - (optional) additional multi-value restrictions to filter the scope of the replaced entry</dd>
<dd><code>removedRestrictionNames</code> - optional set of restriction names that should be removed (if they already exist).</dd>
<dt>Throws:</dt>
<dd><code>javax.jcr.RepositoryException</code> - if any error occurs.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isAllow(javax.jcr.security.AccessControlEntry)">
<h3>isAllow</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isAllow</span><wbr><span class="parameters">(javax.jcr.security.AccessControlEntry&nbsp;ace)</span>
                       throws <span class="exceptions">javax.jcr.RepositoryException</span></div>
<div class="block">Returns true if the AccessControlEntry represents 'allowed' rights or false
 it it represents 'denied' rights.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ace</code> - the access control entry to check</dd>
<dt>Returns:</dt>
<dd>true if the entry represents allowed rights of ralse otherwise</dd>
<dt>Throws:</dt>
<dd><code>javax.jcr.RepositoryException</code> - Forwarded from the
             <code>isAllow</code> method call.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
