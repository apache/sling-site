<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>SlingRepository (Apache Sling 12 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SlingRepository (Apache Sling 12 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":38,"i3":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SlingRepository.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/sling/jcr/api/NamespaceMapper.html" title="interface in org.apache.sling.jcr.api"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/sling/jcr/api/SlingRepositoryInitializer.html" title="interface in org.apache.sling.jcr.api"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/sling/jcr/api/SlingRepository.html" target="_top">Frames</a></li>
<li><a href="SlingRepository.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.sling.jcr.api</div>
<h2 title="Interface SlingRepository" class="title">Interface SlingRepository</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd>javax.jcr.Repository</dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../org/apache/sling/jcr/base/AbstractSlingRepository2.html" title="class in org.apache.sling.jcr.base">AbstractSlingRepository2</a></dd>
</dl>
<hr>
<br>
<pre>@ProviderType
public interface <span class="typeNameLabel">SlingRepository</span>
extends javax.jcr.Repository</pre>
<div class="block">The <code>SlingRepository</code> extends the standard JCR repository
 interface with two methods: <a href="../../../../../org/apache/sling/jcr/api/SlingRepository.html#getDefaultWorkspace--"><code>getDefaultWorkspace()</code></a> and
 <a href="../../../../../org/apache/sling/jcr/api/SlingRepository.html#loginAdministrative-java.lang.String-"><code>loginAdministrative(String)</code></a>. This method ease the use of a JCR
 repository in a Sling application in that the default (or standard) workspace
 to use by the application may be configured and application bundles may use a
 simple method to get an administrative session instead of being required to
 provide their own configuration of administrative session details.
 <p>
 Implementations of this interface will generally provide configurability of
 the default workspace name as well as the access details for the
 administrative session.
 <p>
 Implementations of SlingRepository are expected to invoke any available
 implementations of the <a href="../../../../../org/apache/sling/jcr/api/NamespaceMapper.html" title="interface in org.apache.sling.jcr.api"><code>NamespaceMapper</code></a> interface <b>before</b>
 returning <b>any</b> <code>Session</code> to callers. This includes the methods
 defined in the <code>Repository</code> interface.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.javax.jcr.Repository">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;javax.jcr.Repository</h3>
<code>IDENTIFIER_STABILITY, IDENTIFIER_STABILITY_INDEFINITE_DURATION, IDENTIFIER_STABILITY_METHOD_DURATION, IDENTIFIER_STABILITY_SAVE_DURATION, IDENTIFIER_STABILITY_SESSION_DURATION, LEVEL_1_SUPPORTED, LEVEL_2_SUPPORTED, NODE_TYPE_MANAGEMENT_AUTOCREATED_DEFINITIONS_SUPPORTED, NODE_TYPE_MANAGEMENT_INHERITANCE, NODE_TYPE_MANAGEMENT_INHERITANCE_MINIMAL, NODE_TYPE_MANAGEMENT_INHERITANCE_MULTIPLE, NODE_TYPE_MANAGEMENT_INHERITANCE_SINGLE, NODE_TYPE_MANAGEMENT_MULTIPLE_BINARY_PROPERTIES_SUPPORTED, NODE_TYPE_MANAGEMENT_MULTIVALUED_PROPERTIES_SUPPORTED, NODE_TYPE_MANAGEMENT_ORDERABLE_CHILD_NODES_SUPPORTED, NODE_TYPE_MANAGEMENT_OVERRIDES_SUPPORTED, NODE_TYPE_MANAGEMENT_PRIMARY_ITEM_NAME_SUPPORTED, NODE_TYPE_MANAGEMENT_PROPERTY_TYPES, NODE_TYPE_MANAGEMENT_RESIDUAL_DEFINITIONS_SUPPORTED, NODE_TYPE_MANAGEMENT_SAME_NAME_SIBLINGS_SUPPORTED, NODE_TYPE_MANAGEMENT_UPDATE_IN_USE_SUPORTED, NODE_TYPE_MANAGEMENT_VALUE_CONSTRAINTS_SUPPORTED, OPTION_ACCESS_CONTROL_SUPPORTED, OPTION_ACTIVITIES_SUPPORTED, OPTION_BASELINES_SUPPORTED, OPTION_JOURNALED_OBSERVATION_SUPPORTED, OPTION_LIFECYCLE_SUPPORTED, OPTION_LOCKING_SUPPORTED, OPTION_NODE_AND_PROPERTY_WITH_SAME_NAME_SUPPORTED, OPTION_NODE_TYPE_MANAGEMENT_SUPPORTED, OPTION_OBSERVATION_SUPPORTED, OPTION_QUERY_SQL_SUPPORTED, OPTION_RETENTION_SUPPORTED, OPTION_SHAREABLE_NODES_SUPPORTED, OPTION_SIMPLE_VERSIONING_SUPPORTED, OPTION_TRANSACTIONS_SUPPORTED, OPTION_UNFILED_CONTENT_SUPPORTED, OPTION_UPDATE_MIXIN_NODE_TYPES_SUPPORTED, OPTION_UPDATE_PRIMARY_NODE_TYPE_SUPPORTED, OPTION_VERSIONING_SUPPORTED, OPTION_WORKSPACE_MANAGEMENT_SUPPORTED, OPTION_XML_EXPORT_SUPPORTED, OPTION_XML_IMPORT_SUPPORTED, QUERY_FULL_TEXT_SEARCH_SUPPORTED, QUERY_JOINS, QUERY_JOINS_INNER, QUERY_JOINS_INNER_OUTER, QUERY_JOINS_NONE, QUERY_LANGUAGES, QUERY_STORED_QUERIES_SUPPORTED, QUERY_XPATH_DOC_ORDER, QUERY_XPATH_POS_INDEX, REP_NAME_DESC, REP_VENDOR_DESC, REP_VENDOR_URL_DESC, REP_VERSION_DESC, SPEC_NAME_DESC, SPEC_VERSION_DESC, WRITE_SUPPORTED</code></li>
</ul>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sling/jcr/api/SlingRepository.html#getDefaultWorkspace--">getDefaultWorkspace</a></span>()</code>
<div class="block">Returns the default workspace to use on login.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>javax.jcr.Session</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sling/jcr/api/SlingRepository.html#impersonateFromService-java.lang.String-javax.jcr.Credentials-java.lang.String-">impersonateFromService</a></span>(java.lang.String&nbsp;subServiceName,
                      javax.jcr.Credentials&nbsp;credentials,
                      java.lang.String&nbsp;workspaceName)</code>
<div class="block">Impersonates the service session provided by the calling bundle (and further
 specialized by <code>subServiceName</code>) to a new session in accordance with
 the specified (new) <code>Credentials</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>javax.jcr.Session</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sling/jcr/api/SlingRepository.html#loginAdministrative-java.lang.String-">loginAdministrative</a></span>(java.lang.String&nbsp;workspace)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">as of 2.2 (bundle version 2.2.0) because of inherent security
             issues. Services requiring specific permissions should use
             the <a href="../../../../../org/apache/sling/jcr/api/SlingRepository.html#loginService-java.lang.String-java.lang.String-"><code>loginService(String, String)</code></a> instead.</span></div>
</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>javax.jcr.Session</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sling/jcr/api/SlingRepository.html#loginService-java.lang.String-java.lang.String-">loginService</a></span>(java.lang.String&nbsp;subServiceName,
            java.lang.String&nbsp;workspace)</code>
<div class="block">Returns a session to the given workspace with privileges assigned to the
 service provided by the calling bundle.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.javax.jcr.Repository">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;javax.jcr.Repository</h3>
<code>getDescriptor, getDescriptorKeys, getDescriptorValue, getDescriptorValues, isSingleValueDescriptor, isStandardDescriptor, login, login, login, login</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getDefaultWorkspace--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultWorkspace</h4>
<pre>java.lang.String&nbsp;getDefaultWorkspace()</pre>
<div class="block">Returns the default workspace to use on login.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null if the configured default workspace name is empty, SLING-256</dd>
</dl>
</li>
</ul>
<a name="loginAdministrative-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loginAdministrative</h4>
<pre>@Deprecated
javax.jcr.Session&nbsp;loginAdministrative(java.lang.String&nbsp;workspace)
                                           throws javax.jcr.LoginException,
                                                  javax.jcr.RepositoryException</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">as of 2.2 (bundle version 2.2.0) because of inherent security
             issues. Services requiring specific permissions should use
             the <a href="../../../../../org/apache/sling/jcr/api/SlingRepository.html#loginService-java.lang.String-java.lang.String-"><code>loginService(String, String)</code></a> instead.</span></div>
<div class="block">Returns a session to the given workspace which has administrative powers.
 <p>
 <b><i>NOTE: This method is intended for use by infrastructure bundles to
 access the repository and provide general services. This method MUST not
 be used to handle client requests of whatever kinds. To handle client
 requests a regular authenticated session retrieved through
 <code>Repository.login(javax.jcr.Credentials, String)</code> or
 <code>Session.impersonate(javax.jcr.Credentials)</code> must be used.</i></b>
 <p>
 This method is deprecated. Services running in the Sling system should
 use the <a href="../../../../../org/apache/sling/jcr/api/SlingRepository.html#loginService-java.lang.String-java.lang.String-"><code>loginService(String serviceInfo, String workspace)</code></a>
 method instead. Implementations of this method must throw
 <code>javax.jcr.LoginException</code> if they don't support it.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>workspace</code> - The name of the workspace to which to get an
            administrative session. If <code>null</code> the
            <a href="../../../../../org/apache/sling/jcr/api/SlingRepository.html#getDefaultWorkspace--"><code>getDefaultWorkspace()</code></a> default workspace is assumed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The administrative Session</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.LoginException</code> - If this method is not supported or is disabled by
             the implementation.</dd>
<dd><code>javax.jcr.RepositoryException</code> - If an error occurs creating the
             administrative session</dd>
</dl>
</li>
</ul>
<a name="loginService-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loginService</h4>
<pre>javax.jcr.Session&nbsp;loginService(java.lang.String&nbsp;subServiceName,
                               java.lang.String&nbsp;workspace)
                        throws javax.jcr.LoginException,
                               javax.jcr.RepositoryException</pre>
<div class="block">Returns a session to the given workspace with privileges assigned to the
 service provided by the calling bundle. The <code>subServiceName</code>
 argument can be used to further specialize the service account to be
 used.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>subServiceName</code> - Optional Subservice Name to specialize account
            selection for the service. This may be <code>null</code>.</dd>
<dd><code>workspace</code> - The name of the workspace to which to get an
            administrative session. If <code>null</code> the
            <a href="../../../../../org/apache/sling/jcr/api/SlingRepository.html#getDefaultWorkspace--"><code>getDefaultWorkspace()</code></a> default workspace is assumed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A Session with appropriate permissions to execute the service.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.LoginException</code> - If there is no service account defined for the
             calling bundle or the defined service account does not exist.</dd>
<dd><code>javax.jcr.RepositoryException</code> - if an error occurs.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.2 (bundle version 2.2.0) to replace
        <a href="../../../../../org/apache/sling/jcr/api/SlingRepository.html#loginAdministrative-java.lang.String-"><code>loginAdministrative(String)</code></a></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a
      href="http://sling.apache.org/documentation/the-sling-engine/service-authentication.html">Service
      Authentication</a></dd>
</dl>
</li>
</ul>
<a name="impersonateFromService-java.lang.String-javax.jcr.Credentials-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>impersonateFromService</h4>
<pre>javax.jcr.Session&nbsp;impersonateFromService(java.lang.String&nbsp;subServiceName,
                                         javax.jcr.Credentials&nbsp;credentials,
                                         java.lang.String&nbsp;workspaceName)
                                  throws javax.jcr.LoginException,
                                         javax.jcr.RepositoryException</pre>
<div class="block">Impersonates the service session provided by the calling bundle (and further
 specialized by <code>subServiceName</code>) to a new session in accordance with
 the specified (new) <code>Credentials</code>. The nature of the <code>Credentials</code>
 is an implementation detail which may allow relaxed credentials
 requirements (perhaps including a user ID but no password, for example).
 <p>
 The impersonation will fail with <code>LoginException</code> if the
 service session is not allowed to impersonate the subject associated with
 the target session or if the specified <code>Credentials credentials</code>
 are not valid.
 </p>
 The new, impersonated <code>Session</code> is tied to a new <code>Workspace</code>
 instance with the specified <code>workspaceName</code> or to the
 <a href="../../../../../org/apache/sling/jcr/api/SlingRepository.html#getDefaultWorkspace--"><code>default workspace</code></a> if the <code>workspaceName</code>
 is <code>null</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>subServiceName</code> - Optional sub-service name to specialize account
                       selection for the service. This may be <code>null</code>.</dd>
<dd><code>credentials</code> - A valid non-null <code>Credentials</code> object</dd>
<dd><code>workspaceName</code> - The name of the workspace to which to get an
                       administrative session. If <code>null</code> the
                       <a href="../../../../../org/apache/sling/jcr/api/SlingRepository.html#getDefaultWorkspace--"><code>getDefaultWorkspace()</code></a> default workspace is assumed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new <code>Session</code> object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.LoginException</code> - If the current session does not have sufficient access to perform the operation.</dd>
<dd><code>javax.jcr.RepositoryException</code> - If another error occurs.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.3</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SlingRepository.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/sling/jcr/api/NamespaceMapper.html" title="interface in org.apache.sling.jcr.api"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/sling/jcr/api/SlingRepositoryInitializer.html" title="interface in org.apache.sling.jcr.api"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/sling/jcr/api/SlingRepository.html" target="_top">Frames</a></li>
<li><a href="SlingRepository.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2022 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
