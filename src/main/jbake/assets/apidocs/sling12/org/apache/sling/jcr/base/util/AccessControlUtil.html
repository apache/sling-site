<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>AccessControlUtil (Apache Sling 12 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AccessControlUtil (Apache Sling 12 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9,"i8":9,"i9":41,"i10":9,"i11":9,"i12":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AccessControlUtil.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../org/apache/sling/jcr/base/util/RepositoryAccessor.html" title="class in org.apache.sling.jcr.base.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/sling/jcr/base/util/AccessControlUtil.html" target="_top">Frames</a></li>
<li><a href="AccessControlUtil.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.sling.jcr.base.util</div>
<h2 title="Class AccessControlUtil" class="title">Class AccessControlUtil</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.sling.jcr.base.util.AccessControlUtil</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">AccessControlUtil</span>
extends java.lang.Object</pre>
<div class="block">A simple utility class providing utilities with respect to
 access control over repositories.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#AccessControlUtil--">AccessControlUtil</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#addEntry-javax.jcr.security.AccessControlList-java.security.Principal-javax.jcr.security.Privilege:A-boolean-">addEntry</a></span>(javax.jcr.security.AccessControlList&nbsp;acl,
        java.security.Principal&nbsp;principal,
        javax.jcr.security.Privilege[]&nbsp;privileges,
        boolean&nbsp;isAllow)</code>
<div class="block">Same as <a href="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#addEntry-javax.jcr.security.AccessControlList-java.security.Principal-javax.jcr.security.Privilege:A-boolean-java.util.Map-"><code>addEntry(AccessControlList, Principal, Privilege[], boolean, Map)</code></a> using
 some implementation specific restrictions.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#addEntry-javax.jcr.security.AccessControlList-java.security.Principal-javax.jcr.security.Privilege:A-boolean-java.util.Map-">addEntry</a></span>(javax.jcr.security.AccessControlList&nbsp;acl,
        java.security.Principal&nbsp;principal,
        javax.jcr.security.Privilege[]&nbsp;privileges,
        boolean&nbsp;isAllow,
        java.util.Map&nbsp;restrictions)</code>
<div class="block">Adds an access control entry to the acl consisting of the specified
 <code>principal</code>, the specified <code>privileges</code>, the
 <code>isAllow</code> flag and an optional map containing additional
 restrictions.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#addEntry-javax.jcr.security.AccessControlList-java.security.Principal-javax.jcr.security.Privilege:A-boolean-java.util.Map-java.util.Map-">addEntry</a></span>(javax.jcr.security.AccessControlList&nbsp;acl,
        java.security.Principal&nbsp;principal,
        javax.jcr.security.Privilege[]&nbsp;privileges,
        boolean&nbsp;isAllow,
        java.util.Map&lt;java.lang.String,javax.jcr.Value&gt;&nbsp;restrictions,
        java.util.Map&lt;java.lang.String,javax.jcr.Value[]&gt;&nbsp;mvRestrictions)</code>
<div class="block">Adds an access control entry to the acl consisting of the specified
 <code>principal</code>, the specified <code>privileges</code>, the
 <code>isAllow</code> flag and an optional map containing additional
 restrictions.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static javax.jcr.security.AccessControlManager</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#getAccessControlManager-javax.jcr.Session-">getAccessControlManager</a></span>(javax.jcr.Session&nbsp;session)</code>
<div class="block">Returns the <code>AccessControlManager</code> for the given
 <code>session</code>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#getPath-javax.jcr.security.AccessControlList-">getPath</a></span>(javax.jcr.security.AccessControlList&nbsp;acl)</code>
<div class="block">Returns the path of the node <code>AccessControlList</code> acl
 has been created for.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static org.apache.jackrabbit.api.security.principal.PrincipalManager</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#getPrincipalManager-javax.jcr.Session-">getPrincipalManager</a></span>(javax.jcr.Session&nbsp;session)</code>
<div class="block">Returns the <code>PrincipalManager</code> for the given
 <code>session</code>.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static org.apache.jackrabbit.api.security.user.UserManager</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#getUserManager-javax.jcr.Session-">getUserManager</a></span>(javax.jcr.Session&nbsp;session)</code>
<div class="block">Returns the <code>UserManager</code> for the given
 <code>session</code>.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#isAllow-javax.jcr.security.AccessControlEntry-">isAllow</a></span>(javax.jcr.security.AccessControlEntry&nbsp;ace)</code>
<div class="block">Returns true if the AccessControlEntry represents 'allowed' rights or false
 it it represents 'denied' rights.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#isEmpty-javax.jcr.security.AccessControlList-">isEmpty</a></span>(javax.jcr.security.AccessControlList&nbsp;acl)</code>
<div class="block">Returns <code>true</code> if <code>AccessControlList</code> acl
 does not yet define any entries.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#replaceAccessControlEntry-javax.jcr.Session-java.lang.String-java.security.Principal-java.lang.String:A-java.lang.String:A-java.lang.String:A-">replaceAccessControlEntry</a></span>(javax.jcr.Session&nbsp;session,
                         java.lang.String&nbsp;resourcePath,
                         java.security.Principal&nbsp;principal,
                         java.lang.String[]&nbsp;grantedPrivilegeNames,
                         java.lang.String[]&nbsp;deniedPrivilegeNames,
                         java.lang.String[]&nbsp;removedPrivilegeNames)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">use @link <a href="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#replaceAccessControlEntry-javax.jcr.Session-java.lang.String-java.security.Principal-java.lang.String:A-java.lang.String:A-java.lang.String:A-java.lang.String-"><code>replaceAccessControlEntry(Session, String, Principal, String[], String[], String[], String)</code></a> instead.</span></div>
</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#replaceAccessControlEntry-javax.jcr.Session-java.lang.String-java.security.Principal-java.lang.String:A-java.lang.String:A-java.lang.String:A-java.lang.String-">replaceAccessControlEntry</a></span>(javax.jcr.Session&nbsp;session,
                         java.lang.String&nbsp;resourcePath,
                         java.security.Principal&nbsp;principal,
                         java.lang.String[]&nbsp;grantedPrivilegeNames,
                         java.lang.String[]&nbsp;deniedPrivilegeNames,
                         java.lang.String[]&nbsp;removedPrivilegeNames,
                         java.lang.String&nbsp;order)</code>
<div class="block">Replaces existing access control entries in the ACL for the specified
 <code>principal</code> and <code>resourcePath</code>.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#replaceAccessControlEntry-javax.jcr.Session-java.lang.String-java.security.Principal-java.lang.String:A-java.lang.String:A-java.lang.String:A-java.lang.String-java.util.Map-java.util.Map-java.util.Set-">replaceAccessControlEntry</a></span>(javax.jcr.Session&nbsp;session,
                         java.lang.String&nbsp;resourcePath,
                         java.security.Principal&nbsp;principal,
                         java.lang.String[]&nbsp;grantedPrivilegeNames,
                         java.lang.String[]&nbsp;deniedPrivilegeNames,
                         java.lang.String[]&nbsp;removedPrivilegeNames,
                         java.lang.String&nbsp;order,
                         java.util.Map&lt;java.lang.String,javax.jcr.Value&gt;&nbsp;restrictions,
                         java.util.Map&lt;java.lang.String,javax.jcr.Value[]&gt;&nbsp;mvRestrictions,
                         java.util.Set&lt;java.lang.String&gt;&nbsp;removedRestrictionNames)</code>
<div class="block">Replaces existing access control entries in the ACL for the specified
 <code>principal</code> and <code>resourcePath</code>.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#size-javax.jcr.security.AccessControlList-">size</a></span>(javax.jcr.security.AccessControlList&nbsp;acl)</code>
<div class="block">Returns the number of acl entries or 0 if the acl is empty.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AccessControlUtil--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AccessControlUtil</h4>
<pre>public&nbsp;AccessControlUtil()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getAccessControlManager-javax.jcr.Session-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAccessControlManager</h4>
<pre>public static&nbsp;javax.jcr.security.AccessControlManager&nbsp;getAccessControlManager(javax.jcr.Session&nbsp;session)
                                                                       throws javax.jcr.UnsupportedRepositoryOperationException,
                                                                              javax.jcr.RepositoryException</pre>
<div class="block">Returns the <code>AccessControlManager</code> for the given
 <code>session</code>. If the session does not have a
 <code>getAccessControlManager</code> method, a
 <code>UnsupportedRepositoryOperationException</code> is thrown. Otherwise
 the <code>AccessControlManager</code> is returned or if the call fails,
 the respective exception is thrown.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - The JCR Session whose <code>AccessControlManager</code> is
            to be returned. If the session is a pooled session, the
            session underlying the pooled session is actually used.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <code>AccessControlManager</code> of the session</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.UnsupportedRepositoryOperationException</code> - If the session has no
             <code>getAccessControlManager</code> method or the exception
             thrown by the method.</dd>
<dd><code>javax.jcr.RepositoryException</code> - Forwarded from the
             <code>getAccessControlManager</code> method call.</dd>
</dl>
</li>
</ul>
<a name="getUserManager-javax.jcr.Session-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUserManager</h4>
<pre>public static&nbsp;org.apache.jackrabbit.api.security.user.UserManager&nbsp;getUserManager(javax.jcr.Session&nbsp;session)
                                                                          throws javax.jcr.AccessDeniedException,
                                                                                 javax.jcr.UnsupportedRepositoryOperationException,
                                                                                 javax.jcr.RepositoryException</pre>
<div class="block">Returns the <code>UserManager</code> for the given
 <code>session</code>. If the session does not have a
 <code>getUserManager</code> method, a
 <code>UnsupportedRepositoryOperationException</code> is thrown. Otherwise
 the <code>UserManager</code> is returned or if the call fails,
 the respective exception is thrown.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - The JCR Session whose <code>UserManager</code> is
            to be returned. If the session is not a <code>JackrabbitSession</code>
            uses reflection to retrive the manager from the repository.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <code>UserManager</code> of the session.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.AccessDeniedException</code> - If this session is not allowed
                          to access user data.</dd>
<dd><code>javax.jcr.UnsupportedRepositoryOperationException</code> - If the session has no
            <code>getUserManager</code> method or the exception
            thrown by the method.</dd>
<dd><code>javax.jcr.RepositoryException</code> - Forwarded from the
             <code>getUserManager</code> method call.</dd>
</dl>
</li>
</ul>
<a name="getPrincipalManager-javax.jcr.Session-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPrincipalManager</h4>
<pre>public static&nbsp;org.apache.jackrabbit.api.security.principal.PrincipalManager&nbsp;getPrincipalManager(javax.jcr.Session&nbsp;session)
                                                                                         throws javax.jcr.AccessDeniedException,
                                                                                                javax.jcr.UnsupportedRepositoryOperationException,
                                                                                                javax.jcr.RepositoryException</pre>
<div class="block">Returns the <code>PrincipalManager</code> for the given
 <code>session</code>. If the session does not have a
 <code>PrincipalManager</code> method, a
 <code>UnsupportedRepositoryOperationException</code> is thrown. Otherwise
 the <code>PrincipalManager</code> is returned or if the call fails,
 the respective exception is thrown.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - The JCR Session whose <code>PrincipalManager</code> is
            to be returned. If the session is not a <code>JackrabbitSession</code>
            uses reflection to retrive the manager from the repository.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <code>PrincipalManager</code> of the session.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.AccessDeniedException</code> - If the current user lacks sufficient privileges</dd>
<dd><code>javax.jcr.UnsupportedRepositoryOperationException</code> - If the session has no
                                <code>PrincipalManager</code> method or the exception
                thrown by the method.</dd>
<dd><code>javax.jcr.RepositoryException</code> - Forwarded from the
             <code>PrincipalManager</code> method call.</dd>
</dl>
</li>
</ul>
<a name="getPath-javax.jcr.security.AccessControlList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPath</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getPath(javax.jcr.security.AccessControlList&nbsp;acl)
                                throws javax.jcr.RepositoryException</pre>
<div class="block">Returns the path of the node <code>AccessControlList</code> acl
 has been created for.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>acl</code> - The acl to get the path for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the path for the acl</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.RepositoryException</code> - Forwarded from the
             <code>getPath</code> method call.</dd>
</dl>
</li>
</ul>
<a name="isEmpty-javax.jcr.security.AccessControlList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEmpty</h4>
<pre>public static&nbsp;boolean&nbsp;isEmpty(javax.jcr.security.AccessControlList&nbsp;acl)
                       throws javax.jcr.RepositoryException</pre>
<div class="block">Returns <code>true</code> if <code>AccessControlList</code> acl
 does not yet define any entries.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>acl</code> - The acl to check</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the acl is empty, false otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.RepositoryException</code> - Forwarded from the
             <code>isEmpty</code> method call.</dd>
</dl>
</li>
</ul>
<a name="size-javax.jcr.security.AccessControlList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public static&nbsp;int&nbsp;size(javax.jcr.security.AccessControlList&nbsp;acl)
                throws javax.jcr.RepositoryException</pre>
<div class="block">Returns the number of acl entries or 0 if the acl is empty.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>acl</code> - The acl to get the size of</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the size of the acl</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.RepositoryException</code> - Forwarded from the
             <code>size</code> method call.</dd>
</dl>
</li>
</ul>
<a name="addEntry-javax.jcr.security.AccessControlList-java.security.Principal-javax.jcr.security.Privilege:A-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addEntry</h4>
<pre>public static&nbsp;boolean&nbsp;addEntry(javax.jcr.security.AccessControlList&nbsp;acl,
                               java.security.Principal&nbsp;principal,
                               javax.jcr.security.Privilege[]&nbsp;privileges,
                               boolean&nbsp;isAllow)
                        throws javax.jcr.security.AccessControlException,
                               javax.jcr.RepositoryException</pre>
<div class="block">Same as <a href="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#addEntry-javax.jcr.security.AccessControlList-java.security.Principal-javax.jcr.security.Privilege:A-boolean-java.util.Map-"><code>addEntry(AccessControlList, Principal, Privilege[], boolean, Map)</code></a> using
 some implementation specific restrictions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>acl</code> - the list to add the new entry to</dd>
<dd><code>principal</code> - the principal for the user or group to add the entry for</dd>
<dd><code>privileges</code> - the set of privileges to grant or deny</dd>
<dd><code>isAllow</code> - try to grant the privileges or false to deny the privileges</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this policy was modified,
 <code>false</code> otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.security.AccessControlException</code> - If any of the given parameter is invalid
 or cannot be handled by the implementation.</dd>
<dd><code>javax.jcr.RepositoryException</code> - if any other error occurs.</dd>
</dl>
</li>
</ul>
<a name="addEntry-javax.jcr.security.AccessControlList-java.security.Principal-javax.jcr.security.Privilege:A-boolean-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addEntry</h4>
<pre>public static&nbsp;boolean&nbsp;addEntry(javax.jcr.security.AccessControlList&nbsp;acl,
                               java.security.Principal&nbsp;principal,
                               javax.jcr.security.Privilege[]&nbsp;privileges,
                               boolean&nbsp;isAllow,
                               java.util.Map&nbsp;restrictions)
                        throws javax.jcr.UnsupportedRepositoryOperationException,
                               javax.jcr.RepositoryException</pre>
<div class="block">Adds an access control entry to the acl consisting of the specified
 <code>principal</code>, the specified <code>privileges</code>, the
 <code>isAllow</code> flag and an optional map containing additional
 restrictions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>acl</code> - the list to add the new entry to</dd>
<dd><code>principal</code> - the principal for the user or group to add the entry for</dd>
<dd><code>privileges</code> - the set of privileges to grant or deny</dd>
<dd><code>isAllow</code> - try to grant the privileges or false to deny the privileges</dd>
<dd><code>restrictions</code> - (optional) additional restrictions to filter the scope of the added entry.  The value of the map must be a <code>Value</code> or <code>Value[]</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this policy was modified,
 <code>false</code> otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.UnsupportedRepositoryOperationException</code> - if the repository doesn't support adding access control entries</dd>
<dd><code>javax.jcr.RepositoryException</code> - if any other error occurs.</dd>
</dl>
</li>
</ul>
<a name="addEntry-javax.jcr.security.AccessControlList-java.security.Principal-javax.jcr.security.Privilege:A-boolean-java.util.Map-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addEntry</h4>
<pre>public static&nbsp;boolean&nbsp;addEntry(javax.jcr.security.AccessControlList&nbsp;acl,
                               java.security.Principal&nbsp;principal,
                               javax.jcr.security.Privilege[]&nbsp;privileges,
                               boolean&nbsp;isAllow,
                               java.util.Map&lt;java.lang.String,javax.jcr.Value&gt;&nbsp;restrictions,
                               java.util.Map&lt;java.lang.String,javax.jcr.Value[]&gt;&nbsp;mvRestrictions)
                        throws javax.jcr.UnsupportedRepositoryOperationException,
                               javax.jcr.RepositoryException</pre>
<div class="block">Adds an access control entry to the acl consisting of the specified
 <code>principal</code>, the specified <code>privileges</code>, the
 <code>isAllow</code> flag and an optional map containing additional
 restrictions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>acl</code> - the list to add the new entry to</dd>
<dd><code>principal</code> - the principal for the user or group to add the entry for</dd>
<dd><code>privileges</code> - the set of privileges to grant or deny</dd>
<dd><code>isAllow</code> - try to grant the privileges or false to deny the privileges</dd>
<dd><code>restrictions</code> - (optional) additional single-value restrictions to filter the scope of the added entry</dd>
<dd><code>mvRestrictions</code> - (optional) additional multi-value restrictions to filter the scope of the added entry</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this policy was modified,
 <code>false</code> otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.UnsupportedRepositoryOperationException</code> - if the repository doesn't support adding access control entries</dd>
<dd><code>javax.jcr.RepositoryException</code> - if any other error occurs.</dd>
</dl>
</li>
</ul>
<a name="replaceAccessControlEntry-javax.jcr.Session-java.lang.String-java.security.Principal-java.lang.String:A-java.lang.String:A-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replaceAccessControlEntry</h4>
<pre>@Deprecated
public static&nbsp;void&nbsp;replaceAccessControlEntry(javax.jcr.Session&nbsp;session,
                                                         java.lang.String&nbsp;resourcePath,
                                                         java.security.Principal&nbsp;principal,
                                                         java.lang.String[]&nbsp;grantedPrivilegeNames,
                                                         java.lang.String[]&nbsp;deniedPrivilegeNames,
                                                         java.lang.String[]&nbsp;removedPrivilegeNames)
                                                  throws javax.jcr.RepositoryException</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">use @link <a href="../../../../../../org/apache/sling/jcr/base/util/AccessControlUtil.html#replaceAccessControlEntry-javax.jcr.Session-java.lang.String-java.security.Principal-java.lang.String:A-java.lang.String:A-java.lang.String:A-java.lang.String-"><code>replaceAccessControlEntry(Session, String, Principal, String[], String[], String[], String)</code></a> instead.</span></div>
<div class="block">Replaces existing access control entries in the ACL for the specified
 <code>principal</code> and <code>resourcePath</code>. Any existing granted
 or denied privileges which do not conflict with the specified privileges
 are maintained. Where conflicts exist, existing privileges are dropped.
 The end result will be at most two ACEs for the principal: one for grants
 and one for denies. Aggregate privileges are disaggregated before checking
 for conflicts.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - the JCR session of the user doing the work</dd>
<dd><code>resourcePath</code> - the path of the resource to replace the entry on</dd>
<dd><code>principal</code> - the principal for the user or group to add the entry for</dd>
<dd><code>grantedPrivilegeNames</code> - the names of the privileges to grant</dd>
<dd><code>deniedPrivilegeNames</code> - the names of the privileges to deny</dd>
<dd><code>removedPrivilegeNames</code> - privileges which, if they exist, should be
 removed for this principal and resource</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.RepositoryException</code> - if any error occurs.</dd>
</dl>
</li>
</ul>
<a name="replaceAccessControlEntry-javax.jcr.Session-java.lang.String-java.security.Principal-java.lang.String:A-java.lang.String:A-java.lang.String:A-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replaceAccessControlEntry</h4>
<pre>public static&nbsp;void&nbsp;replaceAccessControlEntry(javax.jcr.Session&nbsp;session,
                                             java.lang.String&nbsp;resourcePath,
                                             java.security.Principal&nbsp;principal,
                                             java.lang.String[]&nbsp;grantedPrivilegeNames,
                                             java.lang.String[]&nbsp;deniedPrivilegeNames,
                                             java.lang.String[]&nbsp;removedPrivilegeNames,
                                             java.lang.String&nbsp;order)
                                      throws javax.jcr.RepositoryException</pre>
<div class="block">Replaces existing access control entries in the ACL for the specified
 <code>principal</code> and <code>resourcePath</code>. Any existing granted
 or denied privileges which do not conflict with the specified privileges
 are maintained. Where conflicts exist, existing privileges are dropped.
 The end result will be at most two ACEs for the principal: one for grants
 and one for denies. Aggregate privileges are disaggregated before checking
 for conflicts.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - the JCR session of the user doing the work</dd>
<dd><code>resourcePath</code> - the path of the resource to replace the entry on</dd>
<dd><code>principal</code> - the principal for the user or group to add the entry for</dd>
<dd><code>grantedPrivilegeNames</code> - the names of the privileges to grant</dd>
<dd><code>deniedPrivilegeNames</code> - the names of the privileges to deny</dd>
<dd><code>removedPrivilegeNames</code> - privileges which, if they exist, should be
 removed for this principal and resource</dd>
<dd><code>order</code> - where the access control entry should go in the list.
         Value should be one of these:
         <table>
          <caption>Values</caption>
          <tr><td>null</td><td>If the ACE for the principal doesn't exist add at the end, otherwise leave the ACE at it's current position.</td></tr>
                        <tr><td>first</td><td>Place the target ACE as the first amongst its siblings</td></tr>
                        <tr><td>last</td><td>Place the target ACE as the last amongst its siblings</td></tr>
                        <tr><td>before xyz</td><td>Place the target ACE immediately before the sibling whose name is xyz</td></tr>
                        <tr><td>after xyz</td><td>Place the target ACE immediately after the sibling whose name is xyz</td></tr>
                        <tr><td>numeric</td><td>Place the target ACE at the specified numeric index</td></tr>
         </table></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.RepositoryException</code> - if any error occurs.</dd>
</dl>
</li>
</ul>
<a name="replaceAccessControlEntry-javax.jcr.Session-java.lang.String-java.security.Principal-java.lang.String:A-java.lang.String:A-java.lang.String:A-java.lang.String-java.util.Map-java.util.Map-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replaceAccessControlEntry</h4>
<pre>public static&nbsp;void&nbsp;replaceAccessControlEntry(javax.jcr.Session&nbsp;session,
                                             java.lang.String&nbsp;resourcePath,
                                             java.security.Principal&nbsp;principal,
                                             java.lang.String[]&nbsp;grantedPrivilegeNames,
                                             java.lang.String[]&nbsp;deniedPrivilegeNames,
                                             java.lang.String[]&nbsp;removedPrivilegeNames,
                                             java.lang.String&nbsp;order,
                                             java.util.Map&lt;java.lang.String,javax.jcr.Value&gt;&nbsp;restrictions,
                                             java.util.Map&lt;java.lang.String,javax.jcr.Value[]&gt;&nbsp;mvRestrictions,
                                             java.util.Set&lt;java.lang.String&gt;&nbsp;removedRestrictionNames)
                                      throws javax.jcr.RepositoryException</pre>
<div class="block">Replaces existing access control entries in the ACL for the specified
 <code>principal</code> and <code>resourcePath</code>. Any existing granted
 or denied privileges which do not conflict with the specified privileges
 are maintained. Where conflicts exist, existing privileges are dropped.
 The end result will be at most two ACEs for the principal: one for grants
 and one for denies. Aggregate privileges are disaggregated before checking
 for conflicts.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - the JCR session of the user doing the work</dd>
<dd><code>resourcePath</code> - the path of the resource to replace the entry on</dd>
<dd><code>principal</code> - the principal for the user or group to add the entry for</dd>
<dd><code>grantedPrivilegeNames</code> - the names of the privileges to grant</dd>
<dd><code>deniedPrivilegeNames</code> - the names of the privileges to deny</dd>
<dd><code>removedPrivilegeNames</code> - privileges which, if they exist, should be
 removed for this principal and resource</dd>
<dd><code>order</code> - where the access control entry should go in the list.
         Value should be one of these:
         <table>
          <caption>Values</caption>
          <tr><td>null</td><td>If the ACE for the principal doesn't exist add at the end, otherwise leave the ACE at it's current position.</td></tr>
                        <tr><td>first</td><td>Place the target ACE as the first amongst its siblings</td></tr>
                        <tr><td>last</td><td>Place the target ACE as the last amongst its siblings</td></tr>
                        <tr><td>before xyz</td><td>Place the target ACE immediately before the sibling whose name is xyz</td></tr>
                        <tr><td>after xyz</td><td>Place the target ACE immediately after the sibling whose name is xyz</td></tr>
                        <tr><td>numeric</td><td>Place the target ACE at the specified numeric index</td></tr>
         </table></dd>
<dd><code>restrictions</code> - (optional) additional single-value restrictions to filter the scope of the replaced entry</dd>
<dd><code>mvRestrictions</code> - (optional) additional multi-value restrictions to filter the scope of the replaced entry</dd>
<dd><code>removedRestrictionNames</code> - optional set of restriction names that should be removed (if they already exist).</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.RepositoryException</code> - if any error occurs.</dd>
</dl>
</li>
</ul>
<a name="isAllow-javax.jcr.security.AccessControlEntry-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isAllow</h4>
<pre>public static&nbsp;boolean&nbsp;isAllow(javax.jcr.security.AccessControlEntry&nbsp;ace)
                       throws javax.jcr.RepositoryException</pre>
<div class="block">Returns true if the AccessControlEntry represents 'allowed' rights or false
 it it represents 'denied' rights.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ace</code> - the access control entry to check</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the entry represents allowed rights of ralse otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.RepositoryException</code> - Forwarded from the
             <code>isAllow</code> method call.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AccessControlUtil.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../org/apache/sling/jcr/base/util/RepositoryAccessor.html" title="class in org.apache.sling.jcr.base.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/sling/jcr/base/util/AccessControlUtil.html" target="_top">Frames</a></li>
<li><a href="AccessControlUtil.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2022 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
